<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Medical Radiesthesia Protocol Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            pointer-events: none;
        }
        
        .header-content {
            position: relative;
            z-index: 1;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 15px;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .system-tags {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .system-tag {
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
        }
        
        .main-content {
            padding: 40px;
        }
        
        .workflow-tabs {
            display: flex;
            gap: 2px;
            margin-bottom: 30px;
            background: #f8f9fa;
            padding: 4px;
            border-radius: 12px;
            overflow-x: auto;
        }
        
        .workflow-tab {
            flex: 1;
            min-width: 140px;
            padding: 12px 15px;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            color: #6c757d;
            font-size: 13px;
            text-align: center;
        }
        
        .workflow-tab.active {
            background: #007bff;
            color: white;
            box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);
        }
        
        .workflow-tab:hover:not(.active) {
            background: rgba(0, 123, 255, 0.1);
            color: #007bff;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .qra-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .point-category {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .category-header {
            font-weight: 600;
            color: #495057;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .point-item {
            display: flex;
            align-items: center;
            padding: 10px;
            margin-bottom: 8px;
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .point-item:hover {
            background: #e3f2fd;
            border-color: #2196f3;
            transform: translateX(2px);
        }
        
        .point-item.selected {
            background: #e8f5e8;
            border-color: #28a745;
            box-shadow: 0 2px 4px rgba(40, 167, 69, 0.2);
        }
        
        .point-checkbox {
            margin-right: 12px;
            transform: scale(1.2);
            accent-color: #007bff;
        }
        
        .bilateral-section {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 10px;
            align-items: center;
            padding: 12px;
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        .bilateral-name {
            font-weight: 500;
            color: #495057;
        }
        
        .bilateral-checkbox {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 6px 12px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .bilateral-checkbox:hover {
            background: #e9ecef;
            border-color: #007bff;
        }
        
        .bilateral-checkbox.selected {
            background: #e8f5e8;
            border-color: #28a745;
        }
        
        .quick-actions {
            display: flex;
            gap: 12px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 123, 255, 0.4);
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-1px);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #ffc107, #e0a800);
            color: #212529;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #28a745, #1e7e34);
            color: white;
        }
        
        .results-container {
            display: none;
            margin-top: 30px;
        }
        
        .alert {
            padding: 16px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .alert-danger {
            background: #f8d7da;
            border-color: #dc3545;
            color: #721c24;
        }
        
        .alert-warning {
            background: #fff3cd;
            border-color: #ffc107;
            color: #856404;
        }
        
        .alert-info {
            background: #d1ecf1;
            border-color: #17a2b8;
            color: #0c5460;
        }
        
        .alert-success {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
        }
        
        .protocol-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-left: 4px solid #007bff;
        }
        
        .protocol-header {
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .protocol-section {
            margin-bottom: 15px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 3px solid #dee2e6;
        }
        
        .protocol-label {
            font-weight: 600;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 5px;
        }
        
        .reference-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .reference-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .reference-item.sel { border-left-color: #17a2b8; }
        .reference-item.band { border-left-color: #6f42c1; }
        .reference-item.salt { border-left-color: #fd7e14; }
        
        .reference-title {
            font-weight: 600;
            color: #495057;
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .reference-detail {
            font-size: 13px;
            color: #6c757d;
            margin-top: 5px;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-label {
            font-weight: 500;
            margin-bottom: 8px;
            color: #495057;
        }
        
        .form-control {
            padding: 12px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.2s ease;
        }
        
        .form-control:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
            outline: none;
        }
        
        .photo-section {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        
        .photo-zone {
            border: 2px dashed #ced4da;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .photo-zone:hover {
            border-color: #007bff;
            background: #e3f2fd;
        }
        
        .photo-zone.dragover {
            border-color: #28a745;
            background: #e8f5e8;
        }
        
        .photo-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 8px;
            margin-top: 10px;
        }
        
        .photo-item {
            position: relative;
            border-radius: 6px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .photo-item img {
            width: 100%;
            height: 80px;
            object-fit: cover;
        }
        
        .photo-remove {
            position: absolute;
            top: 3px;
            right: 3px;
            background: rgba(220, 53, 69, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 10px;
        }
        
        .saved-protocols {
            margin-top: 40px;
        }
        
        .protocol-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .protocol-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .protocol-date {
            font-weight: 600;
            color: #007bff;
        }
        
        .protocol-actions {
            display: flex;
            gap: 8px;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
        }
        
        .interference-warning {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border: none;
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
        }
        
        .mobile-menu {
            display: none;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .header {
                padding: 25px 20px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .workflow-tabs {
                display: none;
            }
            
            .mobile-menu {
                display: flex;
                flex-direction: column;
                gap: 10px;
                margin-bottom: 20px;
            }
            
            .qra-grid {
                grid-template-columns: 1fr;
            }
            
            .bilateral-section {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .reference-grid {
                grid-template-columns: 1fr;
            }
            
            .photo-preview {
                grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            }
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .workflow-tabs, .quick-actions, .btn, .mobile-menu {
                display: none;
            }
            
            .container {
                box-shadow: none;
                border-radius: 0;
            }
            
            .header {
                background: #2c3e50 !important;
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
            }
        }
        
        /* Cell Salt Specific Styles */
        .constitutional-calculator {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
        }

        .constitutional-result {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
        }

        .cell-salt-protocol {
            background: #fff8e1;
            border-left: 4px solid #ff9800;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }

        .salt-timing {
            background: #f3e5f5;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 13px;
            margin-top: 5px;
        }

        .dosage-protocol {
            background: #e8f5e8;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: 500;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <h1>🧬 The Medical Radiesthesia Protocol Generator</h1>
                <div class="system-tags">
                    <span class="system-tag">Quantum Reflex Analysis (QRA)</span>
                    <span class="system-tag">Jin Shin Jyutsu + 26 SEL System</span>
                    <span class="system-tag">Premier Research Labs (PRL)</span>
                    <span class="system-tag">12-Band Vibrational Spectrum</span>
                    <span class="system-tag">BioGeometry Interference Fields</span>
                    <span class="system-tag">Cell Salt Constitutional</span>
                    <span class="system-tag">Memory of a Line Technique</span>
                    <span class="system-tag">Clinical Pattern Recognition</span>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <!-- Mobile Menu -->
            <div class="mobile-menu">
                <button class="btn btn-primary" onclick="showTab('assessment')">Assessment</button>
                <button class="btn btn-secondary" onclick="showTab('protocols')">Protocols</button>
                <button class="btn btn-secondary" onclick="showTab('documentation')">Documentation</button>
                <button class="btn btn-secondary" onclick="showTab('jsj-sel')">JSJ & SEL</button>
                <button class="btn btn-secondary" onclick="showTab('spectrum')">12-Band Spectrum</button>
                <button class="btn btn-secondary" onclick="showTab('cell-salts')">Cell Salts</button>
                <button class="btn btn-secondary" onclick="showTab('archive')">Archive</button>
            </div>

            <!-- Desktop Workflow Tabs -->
            <div class="workflow-tabs">
                <button class="workflow-tab active" onclick="showTab('assessment')">
                    🔍 Assessment
                </button>
                <button class="workflow-tab" onclick="showTab('protocols')">
                    💊 Protocols
                </button>
                <button class="workflow-tab" onclick="showTab('documentation')">
                    📋 Documentation
                </button>
                <button class="workflow-tab" onclick="showTab('jsj-sel')">
                    🤲 JSJ & SEL
                </button>
                <button class="workflow-tab" onclick="showTab('spectrum')">
                    🌈 12-Band Spectrum
                </button>
                <button class="workflow-tab" onclick="showTab('cell-salts')">
                    🧂 Cell Salts
                </button>
                <button class="workflow-tab" onclick="showTab('archive')">
                    🗃️ Archive
                </button>
            </div>

            <!-- Assessment Tab -->
            <div id="assessment-tab" class="tab-content active">
                <div class="section-card">
                    <div class="section-title">
                        🎯 QRA Measurement Point Selection
                    </div>
                    <p>Select all measurement points that tested weak during your QRA assessment:</p>
                    
                    <div class="quick-actions">
                        <button class="btn btn-secondary" onclick="clearAllPoints()">
                            🗑️ Clear All
                        </button>
                        <button class="btn btn-warning" onclick="selectCommonPatterns()">
                            ⚡ Common Patterns
                        </button>
                        <button class="btn btn-primary" onclick="generateProtocols()">
                            🚀 Generate Protocols
                        </button>
                    </div>

                    <div class="qra-grid">
                        <!-- Single Points -->
                        <div class="point-category">
                            <div class="category-header">
                                🔸 Single Points
                            </div>
                            <div id="single-points"></div>
                        </div>

                        <!-- Bilateral Points -->
                        <div class="point-category">
                            <div class="category-header">
                                ⚖️ Bilateral Points (L & R)
                            </div>
                            <div id="bilateral-points"></div>
                        </div>

                        <!-- Multiple Area Points -->
                        <div class="point-category">
                            <div class="category-header">
                                🎛️ Multiple Area Points
                            </div>
                            <div id="multiple-points"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Protocols Tab -->
            <div id="protocols-tab" class="tab-content">
                <div id="protocol-results" class="results-container">
                    <!-- Generated protocols will appear here -->
                </div>
            </div>

            <!-- Documentation Tab -->
            <div id="documentation-tab" class="tab-content">
                <div class="section-card">
                    <div class="section-title">
                        📋 Clinical Protocol Documentation
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Assessment Date:</label>
                            <input type="date" id="assessment-date" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Client Full Name:</label>
                            <input type="text" id="client-full-name" class="form-control" placeholder="Full name for records">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Client Initials:</label>
                            <input type="text" id="client-initials" class="form-control" placeholder="e.g., J.S." maxlength="10">
                        </div>
                    </div>

                    <!-- 🆕 NEW CLIENT ANALYSIS SECTION -->
                    <div class="section-card" style="background: linear-gradient(135deg, #e8f5e8, #f0f8f0); border-left: 4px solid #28a745;">
                        <div class="section-title">
                            🧂 Constitutional Cell Salt Analysis
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Birth Date:</label>
                                <input type="date" id="client-birth-date" class="form-control" onchange="calculateClientConstitutionalSalt()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Gender:</label>
                                <select id="client-gender" class="form-control">
                                    <option value="">Select gender...</option>
                                    <option value="female">Female</option>
                                    <option value="male">Male</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Age Group:</label>
                                <select id="client-age-group" class="form-control">
                                    <option value="">Select age group...</option>
                                    <option value="child">Child (0-12)</option>
                                    <option value="teen">Teen (13-17)</option>
                                    <option value="young-adult">Young Adult (18-30)</option>
                                    <option value="adult">Adult (31-65)</option>
                                    <option value="senior">Senior (65+)</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">🎯 Constitutional Salt Recommendation:</label>
                            <div id="client-constitutional-salt" style="font-weight: bold; padding: 15px; background: rgba(255,255,255,0.8); border-radius: 8px; margin-top: 8px; border: 1px solid #28a745;">
                                Enter birth date to calculate constitutional salt
                            </div>
                        </div>
                    </div>

                        <div class="form-group">
                            <label class="form-label">Weak Points Found:</label>
                            <textarea id="weak-points-summary" class="form-control" rows="3" readonly></textarea>
                    </div>

                    <!-- JSJ Documentation with Photos -->
                    <div class="form-group" style="margin-top: 25px;">
                        <label class="form-label">🤲 JSJ Protocols Applied:</label>
                        <textarea id="jsj-applied" class="form-control" rows="4" placeholder="Document finger holds used, SEL work, timing, effectiveness..."></textarea>
                        <div class="photo-section">
                            <strong>📸 JSJ Application Photos:</strong>
                            <div class="photo-zone" onclick="document.getElementById('jsj-photo-upload').click()">
                                <input type="file" id="jsj-photo-upload" multiple accept="image/*" style="display: none;" onchange="handleSectionPhotoUpload(event, 'jsj')">
                                <div>📱 Add JSJ photos</div>
                                <small>Document finger holds, SEL placement, timing charts</small>
                            </div>
                            <div id="jsj-photo-preview" class="photo-preview"></div>
                        </div>
                    </div>

                    <!-- Geometric Corrections with Photos -->
                    <div class="form-group">
                        <label class="form-label">📐 Geometric Corrections (BioGeometry):</label>
                        <textarea id="geometric-corrections" class="form-control" rows="4" placeholder="BioGeometry shapes used, interference field clearing, emitter measurements..."></textarea>
                        <div class="photo-section">
                            <strong>📸 Geometric Work Photos:</strong>
                            <div class="photo-zone" onclick="document.getElementById('geometric-photo-upload').click()">
                                <input type="file" id="geometric-photo-upload" multiple accept="image/*" style="display: none;" onchange="handleSectionPhotoUpload(event, 'geometric')">
                                <div>📱 Add geometric photos</div>
                                <small>Document emitters, BG shapes, measurements, corrections</small>
                            </div>
                            <div id="geometric-photo-preview" class="photo-preview"></div>
                        </div>
                    </div>

                    <!-- Cell Salt Protocols with Photos -->
                    <div class="form-group">
                        <label class="form-label">🧂 Cell Salt Protocols Applied:</label>
                        <textarea id="cell-salt-applied" class="form-control" rows="4" placeholder="Document constitutional salts, organ-specific salts, dosages, timing, effectiveness..."></textarea>
                        <div class="photo-section">
                            <strong>📸 Cell Salt Protocol Photos:</strong>
                            <div class="photo-zone" onclick="document.getElementById('cell-salt-photo-upload').click()">
                                <input type="file" id="cell-salt-photo-upload" multiple accept="image/*" style="display: none;" onchange="handleSectionPhotoUpload(event, 'cellsalt')">
                                <div>📱 Add cell salt photos</div>
                                <small>Document salt bottles, dosage charts, timing schedules, constitutional analysis</small>
                            </div>
                            <div id="cellsalt-photo-preview" class="photo-preview"></div>
                        </div>
                    </div>

                    <!-- Radiesthetic Findings with Photos -->
                    <div class="form-group">
                        <label class="form-label">📡 Radiesthetic Findings:</label>
                        <textarea id="radiesthetic-findings" class="form-control" rows="4" placeholder="Dial readings, band measurements, frequency specifics, pendulum results..."></textarea>
                        <div class="photo-section">
                            <strong>📸 Radiesthetic Photos:</strong>
                            <div class="photo-zone" onclick="document.getElementById('radiesthetic-photo-upload').click()">
                                <input type="file" id="radiesthetic-photo-upload" multiple accept="image/*" style="display: none;" onchange="handleSectionPhotoUpload(event, 'radiesthetic')">
                                <div>📱 Add radiesthetic photos</div>
                                <small>Document dial readings, pendulum positions, band measurements</small>
                            </div>
                            <div id="radiesthetic-photo-preview" class="photo-preview"></div>
                        </div>
                    </div>

                    <!-- Custom Solutions with Photos -->
                    <div class="form-group">
                        <label class="form-label">🎯 Custom Solutions & Memory of a Line:</label>
                        <textarea id="custom-solutions" class="form-control" rows="4" placeholder="Your unique approaches, combinations, timing discoveries, Memory of a Line applications..."></textarea>
                        <div class="photo-section">
                            <strong>📸 Custom Solution Photos:</strong>
                            <div class="photo-zone" onclick="document.getElementById('custom-photo-upload').click()">
                                <input type="file" id="custom-photo-upload" multiple accept="image/*" style="display: none;" onchange="handleSectionPhotoUpload(event, 'custom')">
                                <div>📱 Add custom solution photos</div>
                                <small>Document unique approaches, Memory of a Line work, innovations</small>
                            </div>
                            <div id="custom-photo-preview" class="photo-preview"></div>
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Clinical Outcomes:</label>
                            <select id="clinical-outcomes" class="form-control">
                                <option value="">Select outcome...</option>
                                <option value="immediate-improvement">Immediate Improvement (same session)</option>
                                <option value="improved-next-session">Improved at Next Session</option>
                                <option value="partial-improvement">Partial Improvement</option>
                                <option value="no-change">No Change Observed</option>
                                <option value="follow-up-needed">Follow-up Assessment Needed</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Follow-up Date:</label>
                            <input type="date" id="follow-up-date" class="form-control">
                        </div>
                    </div>

                    <!-- Master Photo Documentation -->
                    <div class="form-group" style="margin-top: 25px;">
                        <label class="form-label">📸 Master Clinical Documentation Photos:</label>
                        <div class="photo-zone" onclick="document.getElementById('master-photo-upload').click()">
                            <input type="file" id="master-photo-upload" multiple accept="image/*" style="display: none;" onchange="handleSectionPhotoUpload(event, 'master')">
                            <div>📱 Add master documentation photos</div>
                            <small>Overall session documentation, before/after comparisons, additional notes</small>
                        </div>
                        <div id="master-photo-preview" class="photo-preview"></div>
                    </div>

                    <div class="quick-actions" style="margin-top: 30px;">
                        <button class="btn btn-primary" onclick="saveProtocol()">
                            💾 Save Protocol
                        </button>
                        <button class="btn btn-success" onclick="printProtocol()">
                            🖨️ Print Report
                        </button>
                        <button class="btn btn-secondary" onclick="clearDocumentation()">
                            🗑️ Clear Form
                        </button>
                    </div>
                </div>
            </div>

            <!-- JSJ & SEL Reference Tab -->
            <div id="jsj-sel-tab" class="tab-content">
                <div class="section-card">
                    <div class="section-title">
                        🤲 Jin Shin Jyutsu Quick Reference
                    </div>
                    
                    <div class="reference-grid">
                        <div class="reference-item sel">
                            <div class="reference-title">👍 THUMB (Stomach/Spleen - Worry)</div>
                            <div>Hold 20-60 minutes</div>
                            <div><strong>Peak:</strong> 8-10 AM (Stomach), 10 AM-12 PM (Spleen)</div>
                            <div><strong>Use for:</strong> Digestive issues, worry patterns, foundation support</div>
                            <div class="reference-detail">Touch, feeling, epidermis function</div>
                        </div>
                        <div class="reference-item sel">
                            <div class="reference-title">☝️ INDEX (Kidney/Bladder - Fear)</div>
                            <div>Hold 20-60 minutes</div>
                            <div><strong>Peak:</strong> 4-6 PM (Bladder), 6-8 PM (Kidney)</div>
                            <div><strong>Use for:</strong> Kidney/adrenal issues, fear patterns, stress</div>
                            <div class="reference-detail">Hearing, taste, muscular function</div>
                        </div>
                        <div class="reference-item sel">
                            <div class="reference-title">🖕 MIDDLE (Liver/Circulation - Anger)</div>
                            <div>Hold 20-60 minutes</div>
                            <div><strong>Peak:</strong> 12-2 AM (Gallbladder), 2-4 AM (Liver)</div>
                            <div><strong>Use for:</strong> Liver issues, anger patterns, detox support</div>
                            <div class="reference-detail">Speech, sight, vascular function</div>
                        </div>
                        <div class="reference-item sel">
                            <div class="reference-title">💍 RING (Lung/Large Intestine - Grief)</div>
                            <div>Hold 20-60 minutes</div>
                            <div><strong>Peak:</strong> 4-6 AM (Lung), 6-8 AM (Large Intestine)</div>
                            <div><strong>Use for:</strong> Respiratory issues, grief patterns, letting go</div>
                            <div class="reference-detail">Sight, dermatitis function</div>
                        </div>
                        <div class="reference-item sel">
                            <div class="reference-title">🤙 LITTLE (Heart/Small Intestine - Pretense)</div>
                            <div>Hold 20-60 minutes</div>
                            <div><strong>Peak:</strong> 12-2 PM (Heart), 2-4 PM (Small Intestine)</div>
                            <div><strong>Use for:</strong> Heart issues, circulation, emotional authenticity</div>
                            <div class="reference-detail">Smell, skeletal function</div>
                        </div>
                        <div class="reference-item sel">
                            <div class="reference-title">🖐️ PALM (Balance - All Functions)</div>
                            <div>Universal harmonizer</div>
                            <div><strong>Peak:</strong> Anytime for balance</div>
                            <div><strong>Use for:</strong> Overall harmony, integration</div>
                            <div class="reference-detail">Intuition, energy for all functions</div>
                        </div>
                    </div>
                </div>

                <div class="section-card">
                    <div class="section-title">
                        🎯 Complete 26 SEL (Safety Energy Lock) Anatomical Reference
                    </div>
                    <p><em>Each point has a 3-inch diameter area for precise hand placement</em></p>
                    
                    <div class="reference-grid" id="sel-grid">
                        <!-- SEL points will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- 12-Band Spectrum Reference Tab -->
            <div id="spectrum-tab" class="tab-content">
                <div class="section-card">
                    <div class="section-title">
                        🌈 Complete 12-Band Vibrational Spectrum Reference
                    </div>
                    <p><em>Complete frequency system for geometric and energetic support</em></p>
                    
                    <div class="reference-grid" id="spectrum-grid">
                        <!-- Spectrum bands will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Cell Salts Reference Tab -->
            <div id="cell-salts-tab" class="tab-content">
                <div class="section-card">
                    <div class="section-title">
                        🧂 Complete 12-Fold Cell Salt System Reference
                    </div>
                    <p><em>Zodiacal correlations and biochemical mineral support protocols</em></p>
                    
                    <!-- 🆕 ADD Constitutional Calculator -->
                    <div class="alert alert-info" style="margin-bottom: 25px;">
                        <h4>🎯 Constitutional Salt Calculator</h4>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Birth Date:</label>
                                <input type="date" id="birth-date-calculator" class="form-control" onchange="calculateConstitutionalSalt()">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Your Constitutional Salt:</label>
                                <div id="constitutional-result" style="font-weight: bold; padding: 10px; background: #f8f9fa; border-radius: 6px; margin-top: 8px;">
                                    Enter birth date to calculate
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="reference-grid" id="cell-salts-grid">
                        <!-- Enhanced cell salts will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Archive Tab -->
            <div id="archive-tab" class="tab-content">
                <div class="section-card">
                    <div class="section-title">
                        🗃️ Clinical Protocol Archive
                    </div>
                    
                    <div class="quick-actions">
                        <button class="btn btn-success" onclick="exportAllData()">
                            📤 Export All Data
                        </button>
                        <button class="btn btn-warning" onclick="importData()">
                            📥 Import Data
                        </button>
                    </div>
                    
                    <div id="saved-protocols-container">
                        <!-- Saved protocols will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // COMPLETE QRA Point Database - ALL 37 Points with Full Integration
        const qraPoints = {
            single: [
                { id: '1', name: 'Sacral CC (CC-3)', location: 'Midpoint between navel & pubic symphysis' },
                { id: '3', name: 'Brain 1 MP (GV-20)', location: 'Vertex (highest point) on top of head' },
                { id: '4', name: 'Hypothalamus MP', location: '1 cun anterior to GV-20' },
                { id: '5', name: 'Pituitary MP', location: 'Between eyebrows (Yintang)' },
                { id: '9', name: 'Thyroid MP (CV-22)', location: 'Sternal notch on midline of throat' },
                { id: '10', name: 'Thymus MP', location: 'Sternal angle, center of chest' },
                { id: '11', name: 'Heart Inflow MP', location: '3 cun lateral to sternal angle' },
                { id: '12', name: 'Heart Outflow MP (CV-14)', location: 'Midline abdomen, 6 cun above umbilicus' },
                { id: '13', name: 'Stomach MP (CV-12)', location: '4 cun above umbilicus' },
                { id: '14', name: 'Small Intestine MP (CV-4)', location: '3 cun below umbilicus' },
                { id: '15', name: 'Colon MP (S-49)', location: 'Between left pelvic crest and pubic symphysis' },
                { id: '16', name: 'Uterus/Prostate MP (CV-3)', location: '1 cun above pubic symphysis' },
                { id: '22', name: 'Spleen MP (LIV-13)', location: 'Left side - below 11th floating rib' },
                { id: '23', name: 'Insulin MP (ST-19)', location: 'Left side - below last rib' },
                { id: '24', name: 'Gallbladder MP (GB-24)', location: 'Right side - 7th intercostal space' },
                { id: '25', name: 'Liver MP (LIV-14)', location: 'Right side - 6th intercostal space' },
                { id: '26', name: 'Pancreas MP (LIV-13)', location: 'Right side - below 11th floating rib' },
                { id: '28', name: 'Bone MP (GV-14)', location: 'Between C7 and T1 vertebrae' },
                { id: '30F', name: 'Frontal Sinus', location: 'Midline head, between eyebrows' }
            ],
            bilateral: [
                { id: '2', name: 'Kidney MPs (UB-23)', location: '1.5 cun lateral to GV meridian at L2' },
                { id: '6', name: 'Occipital Lobe MPs (S1)', location: 'Center of occipital protuberance' },
                { id: '7', name: 'Cell Energy MPs (TW-20)', location: 'Just above apex of ear' },
                { id: '8', name: 'Parathyroid MPs (S2)', location: '1 cun lateral & superior to hyoid' },
                { id: '17', name: 'Ovary/Testes MPs (ST-29)', location: '1 cun above pubic, 2 cun lateral' },
                { id: '18', name: 'Urinary Bladder MPs', location: '1.5 cun lateral to midline, pubic level' },
                { id: '19', name: 'Circulation MPs (SP-10)', location: '2 cun above patella' },
                { id: '20', name: 'Lymphatic MPs (S6)', location: 'Lateral small toe area' },
                { id: '21', name: 'Adrenal MPs (GB-25)', location: 'Lateral abdomen, 12th rib level' },
                { id: '27', name: 'Deep Sleep MPs (S5)', location: 'Center of mastoid process' },
                { id: '29', name: 'Lung MPs (LU-1)', location: 'Below clavicle, lateral to sternum' },
                { id: '30M', name: 'Maxillary Sinus MPs', location: 'Center of each cheek' },
                { id: '30E', name: 'Ethmoid Sinus MPs', location: 'Side of nose center' },
                { id: '31', name: 'Brain 2 MPs (S3)', location: '1 cun posterior to Deep Sleep Point' },
                { id: '32', name: 'Brain 3 MPs (S4)', location: '1 cun posterior to Brain 2 Point' },
                { id: '33', name: 'Parotid Gland MPs (S7)', location: '1 cun anterior to jaw joint' },
                { id: '35', name: 'Eye MPs (S10)', location: 'Center of eye (tested with eyes closed)' },
                { id: '37', name: 'Ear MPs (S12)', location: 'Center of each ear auricle' }
            ],
            multiple: [
                { id: '34', name: 'Sweat Band MPs (S9)', options: ['Left', 'Center', 'Right'], location: 'Between hairline and eyebrows' },
                { id: '36', name: 'Skin MPs (S11) - Interference Fields', options: ['Area 1', 'Area 2', 'Area 3'], location: 'Scars, burns, trauma sites' }
            ]
        };

        // COMPLETE Protocol Database - NO SHORTCUTS - ALL 37+ POINTS
        const protocolDatabase = {
            // Single Points
            '1': {
                name: 'Sacral CC (CC-3)',
                prl: 'Adaptogen-R3™, Pr. Multi Vitamin, AdrenaVen™, Pr. DHA, EPA/DHA Marine',
                jsj: 'THUMB finger hold (20-60 min) - Worry/foundation support. SEL 1: Prime Mover (inside knee)',
                band: 'Red Band (foundation frequency of physical vitality and grounding)',
                timing: 'Earth element foundation, Kali Phosphoricum support for spiritual electricity',
                cellSalt: {
                    primary: 'Kali Phosphoricum',
                    function: 'Nervous system, brain nutrition, spiritual electricity, mental energy',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Aries season (Mar 21-Apr 21), morning for mental clarity',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for spiritual electricity, nervous system support, foundation energy'
                },
                clinical: 'Foundation point for all other corrections. Weak when disconnected from physical reality.',
                priority: 'HIGH'
            },
            '3': {
                name: 'Brain 1 MP (GV-20)',
                prl: 'Pr. DHA, Pr. Complete B Capsules, CogniTropic™, Max B-ND™, NZ-Red Velvet Deer Antler, Pr. Multi Vitamin',
                jsj: 'ALL fingers sequentially for brain integration. SEL 26: Complete (center of forehead)',
                band: 'Violet/Ultraviolet (transformation and higher consciousness)',
                timing: 'Crown chakra - spiritual connection, affects all organ flows',
                cellSalt: {
                    primary: 'Kali Phosphoricum',
                    function: 'Nervous system, brain nutrition, spiritual electricity, mental energy',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Aries season (Mar 21-Apr 21), morning for mental clarity',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for brain nutrition, mental clarity, spiritual connection, crown chakra support'
                },
                clinical: 'Master point influencing all other testing. Weak in mental fog, spiritual disconnection.',
                priority: 'HIGH'
            },
            '4': {
                name: 'Hypothalamus MP',
                prl: 'Adaptogen-R3™, Pr. Green Tea Extract, CogniTropic™, NZ-Red Velvet Deer Antler, Amino hGH, Pr. Magnesium Powder, D3 Serum',
                jsj: 'MIDDLE finger hold for regulatory balance. SEL 20: Eternal Love (between hairline and eyebrow)',
                band: 'Ultraviolet (higher consciousness beyond physical limitation)',
                timing: 'Master timing control, circadian rhythm regulation',
                cellSalt: {
                    primary: 'Kali Phosphoricum',
                    function: 'Nervous system, brain nutrition, spiritual electricity, mental energy',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Aries season (Mar 21-Apr 21), morning for mental clarity',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for nervous system regulation, circadian rhythm, hormonal balance'
                },
                clinical: 'Weak with sleep disorders, hormone imbalances, temperature regulation issues.',
                priority: 'HIGH'
            },
            '5': {
                name: 'Pituitary MP',
                prl: 'Adaptogen-R3™, Radiant Woman, Testosterone Premium, Pr. B6 Ultra, Pr. Multi Vitamin, XenoStat (1 capsule), Hyssinol™',
                jsj: 'MIDDLE finger hold for hormonal balance. SEL 21: Profound Depths (base of cheek bone)',
                band: 'Indigo (intuitive frequency governing inner vision)',
                timing: 'Third eye chakra function, master hormonal regulation',
                cellSalt: {
                    primary: 'Kali Phosphoricum',
                    function: 'Nervous system, brain nutrition, spiritual electricity, mental energy',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Aries season (Mar 21-Apr 21), morning for mental clarity',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for pituitary function, hormonal regulation, third eye chakra, spiritual perception'
                },
                clinical: 'Weak with hormonal imbalances, growth issues, spiritual perception difficulties.',
                priority: 'HIGH'
            },
            '9': {
                name: 'Thyroid MP (CV-22)',
                prl: 'XenoStat™, Pr. Multi Vitamin, Pr. Green Tea Extract, ThyroVen™, Tyrosine Matrix, Green Tea-ND™, Pr. Noni, Pr. PhytoIron, ErythroPro®, Hyssinol™',
                jsj: 'LITTLE finger hold for communication/expression. SEL 12: Peace and Harmony (between ear lobe and cervical)',
                band: 'Blue (communication frequency governing expression and truth)',
                timing: 'Taurus influence (throat/neck region), iodine and tyrosine support',
                cellSalt: {
                    primary: 'Kali Muriaticum',
                    function: 'Glandular function, mucous membranes, fibrin formation',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Gemini season (May 21-Jun 21), midday for glandular function',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for thyroid function, glandular health, communication, metabolic regulation'
                },
                clinical: 'Weak with metabolic disorders, communication issues, temperature regulation problems, weight management challenges.',
                priority: 'MEDIUM'
            },
            '10': {
                name: 'Thymus MP',
                prl: 'Allicidin®, Pr. Vitamin D3+K2, D3 Serum, Fermented Mushroom Blend, AllerCaps, Nucleo Immune™, Canadian Gold Honey',
                jsj: 'RING finger hold for immune/respiratory support. SEL 13: Love (center of 3rd rib below point 22)',
                band: 'Green (harmonizing frequency governing balance and integration)',
                timing: 'Cancer influence (nurturing/protection), immune-supporting minerals',
                cellSalt: {
                    primary: 'Ferrum Phosphoricum',
                    function: 'Oxygen transport, circulation, inflammation control, iron metabolism',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Pisces season (Feb 20-Mar 21), morning for energy/circulation',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for immune function, oxygen transport, circulation, inflammation control'
                },
                clinical: 'Weak with immune deficiency, autoimmune conditions, recurrent infections, stress-related immune suppression.',
                priority: 'MEDIUM'
            },
            '11': {
                name: 'Heart Inflow MP',
                prl: 'CardioVen™, Pr. Fermented Beets, Deltanol™, CircuZyme™, Pr. Taurine Blend, Pr. Magnesium Powder, Pr. Pink Salt',
                jsj: 'LITTLE finger hold (20-60 min) - Heart/emotional support. SEL 15: Joy and Laughter (top of thigh and groin), SEL 26: Complete. Peak: 12-2 PM',
                band: 'Red/Gold (central spiritual fire and life force)',
                timing: 'Leo (July 22-Aug 23), Magnesium Phosphate support',
                cellSalt: {
                    primary: 'Magnesium Phosphoricum',
                    function: 'Muscle and nerve function, anti-spasmodic, heart rhythm',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Leo season (Jul 22-Aug 23), evening for muscle relaxation',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for heart muscle function, heart rhythm, emotional balance, cardiovascular health'
                },
                clinical: 'Weak with cardiovascular issues, emotional stress. Central organizing point.',
                priority: 'HIGH'
            },
            '12': {
                name: 'Heart Outflow MP (CV-14)',
                prl: 'CardioVen™, Pr. Fermented Beets, Deltanol™, CircuZyme™, Pr. Taurine Blend, Pr. Magnesium Powder, Pr. Pink Salt, Pr. pH Minerals, Pr. B.P. Complex',
                jsj: 'LITTLE finger hold (20-60 min) - Heart circulation support. SEL 15, 26. Peak: 12-2 PM',
                band: 'Red/Gold (central spiritual fire and life force)',
                timing: 'Leo (July 22-Aug 23), Magnesium Phosphate support',
                cellSalt: {
                    primary: 'Magnesium Phosphoricum',
                    function: 'Muscle and nerve function, anti-spasmodic, heart rhythm',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Leo season (Jul 22-Aug 23), evening for muscle relaxation',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for heart circulation, heart rhythm, cardiovascular health, muscle relaxation'
                },
                clinical: 'Weak with cardiovascular issues, heart rhythm irregularities, circulation problems.',
                priority: 'HIGH'
            },
            '13': {
                name: 'Stomach MP (CV-12)',
                prl: 'Pr. Pink Salt (up to age 30) / Pr. HCL (over age 30), GastroVen, Inflammacidin, Pr. Fermented Turmeric/Ginger, Aloe Powder Mixed Berries',
                jsj: 'THUMB finger hold (20-60 min) - Worry/stomach support. SEL 1: Prime Mover, SEL 14: Equilibrium. Peak: 8-10 AM',
                band: 'Yellow (mental clarity frequency governing logical processes)',
                timing: 'Gemini (May 21-June 21), Kali Muriaticum support',
                cellSalt: {
                    primary: 'Kali Muriaticum',
                    function: 'Glandular function, mucous membranes, fibrin formation',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Gemini season (May 21-Jun 21), midday for glandular function',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for stomach mucous membranes, digestive function, worry/anxiety support'
                },
                clinical: 'Weak with digestive issues, worry/anxiety, mental processing difficulties.',
                priority: 'MEDIUM'
            },
            '14': {
                name: 'Small Intestine MP (CV-4)',
                prl: 'Pr. Digest, Inflammacidin, Medi-Clay-FX™, Pr. ACV, Max B-ND™, MicroBiome-18™, Pr. Probiotic Caps, Pr. Marine Collagen',
                jsj: 'LITTLE finger hold (20-60 min) - Discernment/absorption support. SEL 8: Rhythm, SEL 11: Justice. Peak: 2-4 PM',
                band: 'Orange (creative/reproductive frequency governing generative processes)',
                timing: 'Virgo (Aug 23-Sep 23), Kali Sulphuricum support',
                cellSalt: {
                    primary: 'Natrium Phosphoricum',
                    function: 'Acid-alkaline balance, fat digestion, pH regulation',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Libra season (Sep 23-Oct 23), before meals for digestion',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for digestive function, absorption, pH balance, decision-making support'
                },
                clinical: 'Weak with malabsorption, decision-making difficulties, intestinal permeability, discernment issues.',
                priority: 'MEDIUM'
            },
            '15': {
                name: 'Colon MP (S-49)',
                prl: 'Medi-Clay-FX™, Inflammacidin, Digestase-SP™, Pr. Coffee, MicroBiome-18™, Galactan™, Aloe Powder Mixed Berries, Pr. Glutamine',
                jsj: 'RING finger hold for completion/elimination support. SEL 25: Quiet Regeneration (ischium, sitting bone)',
                band: 'Black (absorptive frequency that draws and transmutes)',
                timing: 'Final elimination support, cleansing minerals',
                cellSalt: {
                    primary: 'Natrium Sulphuricum',
                    function: 'Water elimination, liver function, bile production',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Taurus season (Apr 21-May 21), morning for liver function',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for elimination, detoxification, completion, water balance, liver function'
                },
                clinical: 'Weak with chronic constipation, toxic overload, completion issues in life patterns, stagnation.',
                priority: 'MEDIUM'
            },
            '16': {
                name: 'Uterus/Prostate MP (CV-3)',
                prl: 'XenoStat™, UltraPollen™, Radiant Woman / ProstaVen™, Testosterone Premium, Fem Balance-FX™',
                jsj: 'INDEX finger hold for reproductive health. SEL 2: Life Force (top of hip)',
                band: 'Orange (creative/reproductive frequency)',
                timing: 'Reproductive cycle timing, hormonal mineral support',
                cellSalt: {
                    primary: 'Ferrum Phosphoricum',
                    function: 'Oxygen transport, circulation, inflammation control, iron metabolism',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Pisces season (Feb 20-Mar 21), morning for energy/circulation',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for reproductive circulation, oxygen transport, hormonal balance, creative energy'
                },
                clinical: 'Weak with reproductive issues, hormonal imbalances, creative blocks.',
                priority: 'MEDIUM'
            },
            '22': {
                name: 'Spleen MP (LIV-13)',
                prl: 'Adaptogen-R3®, AdrenaVen™, Pr. Fermented Mushroom Blend, Deltanol™, B12-ND™, NZ-Red Velvet Deer Antler, Astaxanthin Complex',
                jsj: 'THUMB finger hold for worry/immune support. SEL 1: Prime Mover, SEL 14: Equilibrium. Peak: 10 AM-12 PM',
                band: 'Yellow/Green (mental clarity and balance)',
                timing: 'Cancer (June 21-July 22), Calcarea Fluorica (tissue integrity)',
                cellSalt: {
                    primary: 'Natrium Muriaticum',
                    function: 'Water balance, cellular hydration, emotional balance',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Cancer season (Jun 21-Jul 22), evening for emotional balance',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for spleen function, immune support, fluid balance, worry/anxiety support'
                },
                clinical: 'Weak with immune deficiency, blood sugar issues, worry and overthinking patterns, poor lymphatic function.',
                priority: 'MEDIUM'
            },
            '23': {
                name: 'Insulin MP (ST-19)',
                prl: 'Adaptogen-R3™, Pr. ACV, PancreVen™, Pr. NAC, Pr. B6 Ultra, Pr. Green Tea Extract, Pr. Fermented Greens Capsules',
                jsj: 'THUMB finger hold for blood sugar balance. SEL 14: Equilibrium (blood sugar regulation)',
                band: 'Yellow (mental clarity and glucose metabolism)',
                timing: 'Metabolic timing optimization, blood sugar supporting minerals',
                cellSalt: {
                    primary: 'Natrium Phosphoricum',
                    function: 'Acid-alkaline balance, fat digestion, pH regulation',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Libra season (Sep 23-Oct 23), before meals for digestion',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for blood sugar balance, pH regulation, metabolic function, insulin sensitivity'
                },
                clinical: 'Weak with diabetes, hypoglycemia, blood sugar instability, pancreatic insufficiency.',
                priority: 'HIGH'
            },
            '24': {
                name: 'Gallbladder MP (GB-24)',
                prl: 'Gallbladder-ND™, BiliVen™, Pr. ACV, Pr. B6 Ultra, Pr. Fermented Turmeric/Ginger, Pr. Turmeric, Pr. Limonene',
                jsj: 'MIDDLE finger hold for decision-making support. SEL 22: Complete Acceptance (below collar bone). Peak: 12-2 AM',
                band: 'Yellow/Green (mental clarity and balance)',
                timing: 'Aquarius (Jan 21-Feb 20), decision-making mineral support',
                cellSalt: {
                    primary: 'Natrium Sulphuricum',
                    function: 'Water elimination, liver function, bile production',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Taurus season (Apr 21-May 21), morning for liver function',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for gallbladder function, bile production, fat digestion, decision-making support'
                },
                clinical: 'Weak with fat digestion issues, indecision, gallstones, digestive problems, difficulty with life decisions.',
                priority: 'MEDIUM'
            },
            '25': {
                name: 'Liver MP (LIV-14)',
                prl: 'Gallbladder-ND™, BiliVen™, Pr. Complete B Capsules, Max B-ND™, HepatoVen™, Liver-ND™, Pr. Fermented Turmeric/Ginger',
                jsj: 'MIDDLE finger hold (20-60 min) - Anger/detox support. SEL 22: Complete Acceptance, SEL 16: Basis and Foundation. Peak: 2-4 AM',
                band: 'Green (harmonizing frequency governing balance)',
                timing: 'Pisces (Feb 20-Mar 21), Ferrum Phosphoricum (oxygen transport)',
                cellSalt: {
                    primary: 'Natrium Sulphuricum',
                    function: 'Water elimination, liver function, bile production',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Taurus season (Apr 21-May 21), morning for liver function',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for liver function, detoxification, bile production, anger/frustration support'
                },
                clinical: 'Weak with liver dysfunction, anger/frustration, detoxification issues, eye problems.',
                priority: 'HIGH'
            },
            '26': {
                name: 'Pancreas MP (LIV-13)',
                prl: 'BiliVen™, Pr. ACV, Pr. B6 Ultra™, PancreVen™, Deltanol™, Pr. NAC, Vintage Vinegar, Pr. Niacin',
                jsj: 'THUMB finger hold for digestive enzyme support. SEL 14: Equilibrium (digestive balance)',
                band: 'Yellow/Orange (mental clarity and creative digestion)',
                timing: 'Digestive timing optimization, enzyme-supporting minerals',
                cellSalt: {
                    primary: 'Natrium Phosphoricum',
                    function: 'Acid-alkaline balance, fat digestion, pH regulation',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Libra season (Sep 23-Oct 23), before meals for digestion',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for pancreatic function, enzyme production, fat digestion, blood sugar balance'
                },
                clinical: 'Weak with digestive enzyme deficiency, poor fat digestion, blood sugar instability.',
                priority: 'MEDIUM'
            },
            '28': {
                name: 'Bone MP (GV-14)',
                prl: 'Calcium Magnesium (caps/pwdr.), Pr. Vitamin D3+K2, D3 Serum, Pr. pH Minerals, Pr. Fermented Greens Capsules, Pr. Bone Health',
                jsj: 'THUMB finger hold for calcium/structural support. SEL 11: Justice (off 1st TV)',
                band: 'White/Infrared (integration and structural frequencies)',
                timing: 'Capricorn (December 22 - January 21), Calcarea Phosphorica (bone formation)',
                cellSalt: {
                    primary: 'Calcarea Fluorica',
                    function: 'Bone formation, tissue integrity, elastic fiber formation',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Capricorn season (Dec 22-Jan 21), morning for bone building',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for bone density, fracture healing, structural support, dental health'
                },
                clinical: 'Weak with bone density issues, structural problems, osteoporosis, fracture healing, spinal alignment issues.',
                priority: 'MEDIUM'
            },
            '30F': {
                name: 'Frontal Sinus',
                prl: 'Inflammacidin, Pr. HCL, Pr. Digest, AllerCaps, Liver-ND™, DentaVen™, Aloe Powder Mixed Berries, Allicidin®',
                jsj: 'RING finger hold for sinus/respiratory support. SEL 4: The Window (base of skull)',
                band: 'White/Blue (clearing and communication frequencies)',
                timing: 'Respiratory timing optimization, sinus-clearing minerals',
                cellSalt: {
                    primary: 'Kali Muriaticum',
                    function: 'Glandular function, mucous membranes, fibrin formation',
                    dosage: '3 tablets, 3x daily until taste changes from sweet to bitter',
                    timing: 'Enhanced during Gemini season (May 21-Jun 21), midday for glandular function',
                    constitutional: 'Combine with birth sign salt if different',
                    clinical: 'Essential for sinus health, mucous membrane function, respiratory support, drainage'
                },
                clinical: 'Weak with chronic sinusitis, allergies, poor drainage, congestion, recurrent sinus infections.',
                priority: 'MEDIUM'
            },

            // Bilateral Points
            '2L': {
                name: 'Kidney Left',
                prl: 'Pr. DHA, EPA/DHA Marine, RenaVen™, Inflammacidin, CircuZyme, NZ-Red Velvet Deer Antler, Pr. Multi Vitamin',
                jsj: 'INDEX finger hold (20-60 min) - Past trauma/fear release. SEL 23: Fourth Depth, SEL 3: Main Central. Peak: 6-8 PM',
                band: 'Blue Band (communication/past emotional patterns)',
                timing: 'Scorpio timing, evening kidney flow activation, Calcarea Sulphurica (blood purification)',
                clinical: 'Often relates to past trauma/stress patterns requiring resolution. Left kidney = past issues.',
                priority: 'HIGH'
            },
            '2R': {
                name: 'Kidney Right',
                prl: 'Pr. DHA, EPA/DHA Marine, RenaVen™, Inflammacidin, CircuZyme, NZ-Red Velvet Deer Antler, Pr. Multi Vitamin',
                jsj: 'INDEX finger hold (20-60 min) - Current stress/functional support. SEL 23: Fourth Depth, SEL 3: Main Central. Peak: 6-8 PM',
                band: 'Infrared Band (current functional structure support)',
                timing: 'Scorpio timing, evening kidney flow activation, Calcarea Sulphurica (blood purification)',
                clinical: 'Often relates to current functional stress requiring immediate support. Right kidney = current function.',
                priority: 'HIGH'
            },
            '6L': {
                name: 'Occipital Lobe Left',
                prl: 'Pr. Green Tea Extract, Pr. Complete B Capsules, Max B-ND™, Astaxanthin Complex, PQQ Complex, Pr. CoQ-10',
                jsj: 'MIDDLE finger hold for brain/vision integration. SEL 9: Ending/Beginning (between 7th and 8th TV)',
                band: 'Violet (vision and higher perception)',
                timing: 'Visual processing timing, brain-nourishing minerals',
                clinical: 'Weak with visual processing issues, left brain integration challenges, cognitive decline.',
                priority: 'MEDIUM'
            },
            '6R': {
                name: 'Occipital Lobe Right',
                prl: 'Pr. Green Tea Extract, Pr. Complete B Capsules, Max B-ND™, Astaxanthin Complex, PQQ Complex, Pr. CoQ-10',
                jsj: 'MIDDLE finger hold for brain/vision integration. SEL 9: Ending/Beginning (between 7th and 8th TV)',
                band: 'Violet (vision and higher perception)',
                timing: 'Visual processing timing, brain-nourishing minerals',
                clinical: 'Weak with visual processing issues, right brain integration challenges, spatial processing.',
                priority: 'MEDIUM'
            },
            '7L': {
                name: 'Cell Energy Left',
                prl: 'Medi-Clay-FX™, Pr. Multi Vitamin, PQQ Complex, Pr. Complete B Capsules, Max B-ND™, Pr. CoQ-10, CardioVen™',
                jsj: 'INDEX finger hold for cellular energy. SEL 12: Thy Will Be Done (between ear lobe and cervical)',
                band: 'White/Gold (cellular integration and divine energy)',
                timing: 'Cellular regeneration timing, mitochondrial support minerals',
                clinical: 'Weak with chronic fatigue, cellular energy deficiency, poor recovery, aging acceleration.',
                priority: 'HIGH'
            },
            '7R': {
                name: 'Cell Energy Right',
                prl: 'Medi-Clay-FX™, Pr. Multi Vitamin, PQQ Complex, Pr. Complete B Capsules, Max B-ND™, Pr. CoQ-10, CardioVen™',
                jsj: 'INDEX finger hold for cellular energy. SEL 12: Thy Will Be Done (between ear lobe and cervical)',
                band: 'White/Gold (cellular integration and divine energy)',
                timing: 'Cellular regeneration timing, mitochondrial support minerals',
                clinical: 'Weak with chronic fatigue, cellular energy deficiency, poor recovery, aging acceleration.',
                priority: 'HIGH'
            },
            '8L': {
                name: 'Parathyroid Left',
                prl: 'Pr. Green Tea Extract, Medi-Chlorella-FX, Pr. Vitamin D3+K2, Green Tea-ND™, Pr. NAC, HM-ND™',
                jsj: 'THUMB finger hold for calcium regulation. SEL 11: Justice (off 1st TV)',
                band: 'White (calcium integration frequency)',
                timing: 'Calcium metabolism timing, parathyroid mineral support',
                clinical: 'Weak with calcium imbalances, bone issues, parathyroid dysfunction, muscle cramps.',
                priority: 'MEDIUM'
            },
            '8R': {
                name: 'Parathyroid Right',
                prl: 'Pr. Green Tea Extract, Medi-Chlorella-FX, Pr. Vitamin D3+K2, Green Tea-ND™, Pr. NAC, HM-ND™',
                jsj: 'THUMB finger hold for calcium regulation. SEL 11: Justice (off 1st TV)',
                band: 'White (calcium integration frequency)',
                timing: 'Calcium metabolism timing, parathyroid mineral support',
                clinical: 'Weak with calcium imbalances, bone issues, parathyroid dysfunction, muscle cramps.',
                priority: 'MEDIUM'
            },
            '17L': {
                name: 'Ovary/Testes Left',
                prl: 'UltraPollen™, Fem Balance-FX™ / Testosterone Premium, Radiant Woman, Pr. Multi Vitamin, NZ-Red Velvet Deer Antler',
                jsj: 'INDEX finger hold for reproductive balance. SEL 2: Life Force (top of hip)',
                band: 'Orange (creative/reproductive frequency)',
                timing: 'Reproductive cycle timing, left side emotional/creative balance',
                clinical: 'Weak with reproductive issues, hormonal imbalances, fertility challenges, creative blocks.',
                priority: 'MEDIUM'
            },
            '17R': {
                name: 'Ovary/Testes Right',
                prl: 'UltraPollen™, Fem Balance-FX™ / Testosterone Premium, Radiant Woman, Pr. Multi Vitamin, NZ-Red Velvet Deer Antler',
                jsj: 'INDEX finger hold for reproductive balance. SEL 2: Life Force (top of hip)',
                band: 'Orange (creative/reproductive frequency)',
                timing: 'Reproductive cycle timing, right side functional/physical balance',
                clinical: 'Weak with reproductive issues, hormonal imbalances, fertility challenges, manifestation blocks.',
                priority: 'MEDIUM'
            },
            '18L': {
                name: 'Urinary Bladder Left',
                prl: 'UltraPollen™, UriVen™, Allicidin®, Pr. Plant Vitamin C, Pr. Magnesium Powder, Pr. Green Tea Extract',
                jsj: 'INDEX finger hold for fear/boundary support. SEL 23: Fourth Depth. Peak: 4-6 PM',
                band: 'Blue/Black (communication and absorption)',
                timing: 'Libra (Sep 23-Oct 23), Natrium Phosphoricum support',
                clinical: 'Weak with urinary issues, fear-based emotions, fluid retention, boundary issues.',
                priority: 'MEDIUM'
            },
            '18R': {
                name: 'Urinary Bladder Right',
                prl: 'UltraPollen™, UriVen™, Allicidin®, Pr. Plant Vitamin C, Pr. Magnesium Powder, Pr. Green Tea Extract',
                jsj: 'INDEX finger hold for fear/boundary support. SEL 23: Fourth Depth. Peak: 4-6 PM',
                band: 'Blue/Black (communication and absorption)',
                timing: 'Libra (Sep 23-Oct 23), Natrium Phosphoricum support',
                clinical: 'Weak with urinary issues, fear-based emotions, excessive urination, boundary issues.',
                priority: 'MEDIUM'
            },
            '19L': {
                name: 'Circulation Left',
                prl: 'Pr. Fermented Beets, Pr. Vitamin D3+K2, Inflammacidin, Deltanol™, CircuZyme™, Pr. B.P. Complex™',
                jsj: 'LITTLE finger hold for heart/circulation support. SEL 1: Prime Mover',
                band: 'Red (foundation frequency of physical vitality)',
                timing: 'Circulation timing optimization, iron and circulation-supporting minerals',
                clinical: 'Weak with poor circulation, cold extremities, varicose veins, blood stagnation.',
                priority: 'MEDIUM'
            },
            '19R': {
                name: 'Circulation Right',
                prl: 'Pr. Fermented Beets, Pr. Vitamin D3+K2, Inflammacidin, Deltanol™, CircuZyme™, Pr. B.P. Complex™',
                jsj: 'LITTLE finger hold for heart/circulation support. SEL 1: Prime Mover',
                band: 'Red (foundation frequency of physical vitality)',
                timing: 'Circulation timing optimization, iron and circulation-supporting minerals',
                clinical: 'Weak with poor circulation, cold extremities, cardiovascular insufficiency.',
                priority: 'MEDIUM'
            },
            '20L': {
                name: 'Lymphatic Left',
                prl: 'Pr. pH Minerals, Pr. HCL, RenaVen™, Pr. Pink Salt, Pr. Castor Oil, CircuZyme, Pr. Plant Vitamin C',
                jsj: 'RING finger hold for immune/lymphatic support. SEL 19: Perfect Balance (elbow area)',
                band: 'White/Green (integration and harmonizing frequencies)',
                timing: 'Immune system timing, lymphatic supporting minerals',
                clinical: 'Weak with lymphatic congestion, immune issues, swelling, poor wound healing.',
                priority: 'MEDIUM'
            },
            '20R': {
                name: 'Lymphatic Right',
                prl: 'Pr. pH Minerals, Pr. HCL, RenaVen™, Pr. Pink Salt, Pr. Castor Oil, CircuZyme, Pr. Plant Vitamin C',
                jsj: 'RING finger hold for immune/lymphatic support. SEL 19: Perfect Balance (elbow area)',
                band: 'White/Green (integration and harmonizing frequencies)',
                timing: 'Immune system timing, lymphatic supporting minerals',
                clinical: 'Weak with lymphatic congestion, immune issues, recurrent infections.',
                priority: 'MEDIUM'
            },
            '21L': {
                name: 'Adrenal Left',
                prl: 'Adaptogen-R3™, AdrenaVen™, Pr. Complete B Capsules, Max B-ND™, Pr. B6 Ultra, Pr. Pink Salt, Pr. Plant Vitamin C',
                jsj: 'INDEX finger hold (20-60 min) - Past stress/adrenal support. SEL 23: Fourth Depth',
                band: 'Orange/Red (creative energy and vitality)',
                timing: 'Stress response timing, adaptogenic support',
                clinical: 'Often weak with kidney points. Classic adrenal exhaustion pattern. Past trauma stress.',
                priority: 'HIGH'
            },
            '21R': {
                name: 'Adrenal Right',
                prl: 'Adaptogen-R3™, AdrenaVen™, Pr. Complete B Capsules, Max B-ND™, Pr. B6 Ultra, Pr. Pink Salt, Pr. Plant Vitamin C',
                jsj: 'INDEX finger hold (20-60 min) - Current stress/adrenal support. SEL 23: Fourth Depth',
                band: 'Orange/Red (creative energy and vitality)',
                timing: 'Stress response timing, adaptogenic support',
                clinical: 'Often weak with kidney points. Chronic fatigue, poor stress tolerance. Current stress.',
                priority: 'HIGH'
            },
            '27L': {
                name: 'Deep Sleep Left',
                prl: 'Gallbladder-ND™, Tranquinol®, Pr. Multi Vitamin, Pr. B6 Ultra, CogniTropic™, Pr. Taurine Blend',
                jsj: 'INDEX finger hold for calming/sleep support. SEL 4: The Window (base of skull)',
                band: 'Indigo/Violet (deep spiritual states and transformation)',
                timing: 'Sleep cycle timing, nervous system calming minerals',
                clinical: 'Weak with insomnia, poor sleep quality, dream disturbances, inability to process daily experiences.',
                priority: 'MEDIUM'
            },
            '27R': {
                name: 'Deep Sleep Right',
                prl: 'Melatonin-ND™, BiliVen™, Tranquinol®, Pr. Multi Vitamin, Pr. B6 Ultra, CogniTropic™, Pr. Magnesium Powder',
                jsj: 'INDEX finger hold for calming/sleep support. SEL 4: The Window (base of skull)',
                band: 'Indigo/Violet (deep spiritual states and transformation)',
                timing: 'Sleep cycle timing, nervous system calming minerals',
                clinical: 'Weak with insomnia, poor sleep quality, dream disturbances, inability to process daily experiences.',
                priority: 'MEDIUM'
            },
            '29L': {
                name: 'Lung Left',
                prl: 'PneumoVen™, Pr. Vitamin D3+K2, D3 Serum, AllerCaps, Pr. NAC, Pr. pH Minerals, Astaxanthin Complex',
                jsj: 'RING finger hold (20-60 min) - Grief/breathing support. SEL 4: The Window, SEL 13: Love. Peak: 4-6 AM',
                band: 'White/Blue (integration and communication frequencies)',
                timing: 'Aries (Mar 21-Apr 21), Kali Phosphoricum support',
                clinical: 'Weak with respiratory issues, grief, difficulty processing loss.',
                priority: 'MEDIUM'
            },
            '29R': {
                name: 'Lung Right',
                prl: 'PneumoVen™, Pr. Vitamin D3+K2, D3 Serum, AllerCaps, Pr. NAC, Pr. pH Minerals, Astaxanthin Complex',
                jsj: 'RING finger hold (20-60 min) - Grief/breathing support. SEL 4: The Window, SEL 13: Love. Peak: 4-6 AM',
                band: 'White/Blue (integration and communication frequencies)',
                timing: 'Aries (Mar 21-Apr 21), Kali Phosphoricum support',
                clinical: 'Weak with respiratory issues, grief, chronic cough.',
                priority: 'MEDIUM'
            },
            '30ML': {
                name: 'Maxillary Sinus Left',
                prl: 'Inflammacidin, Pr. HCL, Pr. Digest, AllerCaps, Liver-ND™, DentaVen™, Allicidin®',
                jsj: 'RING finger hold for sinus support. SEL 4: The Window',
                band: 'White/Blue (clearing and communication frequencies)',
                timing: 'Respiratory clearing timing, sinus drainage support',
                clinical: 'Weak with left maxillary sinus congestion, dental issues, poor drainage.',
                priority: 'LOW'
            },
            '30MR': {
                name: 'Maxillary Sinus Right',
                prl: 'Inflammacidin, Pr. HCL, Pr. Digest, AllerCaps, Liver-ND™, DentaVen™, Allicidin®',
                jsj: 'RING finger hold for sinus support. SEL 4: The Window',
                band: 'White/Blue (clearing and communication frequencies)',
                timing: 'Respiratory clearing timing, sinus drainage support',
                clinical: 'Weak with right maxillary sinus congestion, dental issues, poor drainage.',
                priority: 'LOW'
            },
            '30EL': {
                name: 'Ethmoid Sinus Left',
                prl: 'Inflammacidin, Pr. HCL, Pr. Digest, AllerCaps, Liver-ND™, DentaVen™, Allicidin®',
                jsj: 'RING finger hold for sinus support. SEL 4: The Window',
                band: 'White/Blue (clearing and communication frequencies)',
                timing: 'Respiratory clearing timing, sinus drainage support',
                clinical: 'Weak with left ethmoid sinus congestion, nasal breathing issues.',
                priority: 'LOW'
            },
            '30ER': {
                name: 'Ethmoid Sinus Right',
                prl: 'Inflammacidin, Pr. HCL, Pr. Digest, AllerCaps, Liver-ND™, DentaVen™, Allicidin®',
                jsj: 'RING finger hold for sinus support. SEL 4: The Window',
                band: 'White/Blue (clearing and communication frequencies)',
                timing: 'Respiratory clearing timing, sinus drainage support',
                clinical: 'Weak with right ethmoid sinus congestion, nasal breathing issues.',
                priority: 'LOW'
            },
            '31L': {
                name: 'Brain 2 Left',
                prl: 'CogniTropic™, Pr. Complete B Capsules, Max B-ND™, Pr. DHA, CereVen, NeuroVen™, Pr. B6 Ultra',
                jsj: 'MIDDLE finger hold for brain integration. SEL 26: Complete',
                band: 'Violet/Ultraviolet (advanced consciousness frequencies)',
                timing: 'Advanced consciousness support, brain-nourishing minerals',
                clinical: 'Weak with cognitive decline, consciousness issues, learning disabilities.',
                priority: 'MEDIUM'
            },
            '31R': {
                name: 'Brain 2 Right',
                prl: 'CogniTropic™, Pr. Complete B Capsules, Max B-ND™, Pr. DHA, CereVen, NeuroVen™, Pr. B6 Ultra',
                jsj: 'MIDDLE finger hold for brain integration. SEL 26: Complete',
                band: 'Violet/Ultraviolet (advanced consciousness frequencies)',
                timing: 'Advanced consciousness support, brain-nourishing minerals',
                clinical: 'Weak with cognitive decline, consciousness issues, learning disabilities.',
                priority: 'MEDIUM'
            },
            '32L': {
                name: 'Brain 3 Left',
                prl: 'Pr. Complete B Capsules, Phyto Methylate, Pr. HCL Activator, NeuroVen™, Pr. DHA, UltraPollen™, Max B-ND™',
                jsj: 'ALL fingers sequentially for complete brain integration. SEL 26: Complete',
                band: 'Ultraviolet/Gold (highest consciousness and divine connection)',
                timing: 'Master consciousness support, highest level brain minerals',
                clinical: 'Weak with severe cognitive issues, consciousness disorders, spiritual emergence difficulties.',
                priority: 'HIGH'
            },
            '32R': {
                name: 'Brain 3 Right',
                prl: 'Pr. Complete B Capsules, Phyto Methylate, Pr. HCL Activator, NeuroVen™, Pr. DHA, UltraPollen™, Max B-ND™',
                jsj: 'ALL fingers sequentially for complete brain integration. SEL 26: Complete',
                band: 'Ultraviolet/Gold (highest consciousness and divine connection)',
                timing: 'Master consciousness support, highest level brain minerals',
                clinical: 'Weak with severe cognitive issues, consciousness disorders, integration challenges.',
                priority: 'HIGH'
            },
            '33L': {
                name: 'Parotid Gland Left',
                prl: 'Pr. HCL, Pr. ACV, Pr. Plant Vitamin C, Aloe Powder Mixed Berries, Pr. Aloe, AllerCaps, Allicidin®',
                jsj: 'THUMB finger hold for digestive initiation. SEL 21: Profound Security (jaw area)',
                band: 'Yellow (mental clarity and digestive initiation)',
                timing: 'Digestive timing, enzyme-supporting minerals',
                clinical: 'Weak with poor digestion, dry mouth, enzyme deficiency, initial digestive problems.',
                priority: 'LOW'
            },
            '33R': {
                name: 'Parotid Gland Right',
                prl: 'Pr. HCL, Pr. ACV, Pr. Plant Vitamin C, Aloe Powder Mixed Berries, Pr. Aloe, AllerCaps, Allicidin®',
                jsj: 'THUMB finger hold for digestive initiation. SEL 21: Profound Security (jaw area)',
                band: 'Yellow (mental clarity and digestive initiation)',
                timing: 'Digestive timing, enzyme-supporting minerals',
                clinical: 'Weak with poor digestion, dry mouth, enzyme deficiency, initial digestive problems.',
                priority: 'LOW'
            },
            '35L': {
                name: 'Eye Left',
                prl: 'Pr. DHA, OcuVen™, Pr. Vitamin D3+K2, Pr. Fermented Beets, CogniTropic™, Astaxanthin Complex',
                jsj: 'MIDDLE finger hold for liver/vision support. SEL 9: Ending/Beginning (vision clarity)',
                band: 'Indigo/Violet (vision and perception frequencies)',
                timing: 'Visual health timing, eye-nourishing minerals',
                clinical: 'Weak with vision problems, perception issues, eye strain, visual processing disorders.',
                priority: 'LOW'
            },
            '35R': {
                name: 'Eye Right',
                prl: 'Pr. DHA, OcuVen™, Pr. Vitamin D3+K2, Pr. Fermented Beets, CogniTropic™, Astaxanthin Complex',
                jsj: 'MIDDLE finger hold for liver/vision support. SEL 9: Ending/Beginning (vision clarity)',
                band: 'Indigo/Violet (vision and perception frequencies)',
                timing: 'Visual health timing, eye-nourishing minerals',
                clinical: 'Weak with vision problems, perception issues, liver-related eye problems.',
                priority: 'LOW'
            },
            '37L': {
                name: 'Ear Left',
                prl: 'Pr. DHA, NeuroVen™, Pr. Bone Health, NZ Red Velvet Deer Antler, EPA/DHA Marine, Pr. Aloe',
                jsj: 'INDEX finger hold for kidney/hearing support. SEL 4: The Window (hearing clarity)',
                band: 'Blue/Ultraviolet (communication and higher perception)',
                timing: 'Hearing and balance support, auditory system minerals',
                clinical: 'Weak with hearing loss, balance issues, tinnitus, vertigo, poor auditory processing.',
                priority: 'LOW'
            },
            '37R': {
                name: 'Ear Right',
                prl: 'Pr. DHA, NeuroVen™, Pr. Bone Health, NZ Red Velvet Deer Antler, EPA/DHA Marine, Pr. Aloe',
                jsj: 'INDEX finger hold for kidney/hearing support. SEL 4: The Window (hearing clarity)',
                band: 'Blue/Ultraviolet (communication and higher perception)',
                timing: 'Hearing and balance support, auditory system minerals',
                clinical: 'Weak with hearing loss, balance issues, tinnitus, vertigo, poor auditory processing.',
                priority: 'LOW'
            },

            // Multiple Area Points
            '34L': {
                name: 'Sweat Band Left',
                prl: 'CogniTropic™, Pr. Complete B Capsules, Phyto Methylate, CereVen™, Pr. B6 Ultra™, Pr. Fermented Turmeric/Ginger',
                jsj: 'INDEX finger hold for detox/stress support. SEL 17: Victorious Transformation (forehead area)',
                band: 'Black/White (absorption and integration for detox)',
                timing: 'Detoxification timing, heavy metal clearing minerals',
                clinical: 'Weak with environmental toxicity, poor sweating, heavy metal toxicity, chemical sensitivity.',
                priority: 'MEDIUM'
            },
            '34C': {
                name: 'Sweat Band Center',
                prl: 'CogniTropic™, Pr. Complete B Capsules, Phyto Methylate, CereVen™, Pr. B6 Ultra™, Pr. Fermented Turmeric/Ginger',
                jsj: 'INDEX finger hold for detox/stress support. SEL 20: Residence of Soul (between hairline and eyebrow)',
                band: 'Black/White (absorption and integration for detox)',
                timing: 'Detoxification timing, heavy metal clearing minerals',
                clinical: 'Weak with environmental toxicity, poor sweating, heavy metal toxicity, chemical sensitivity.',
                priority: 'MEDIUM'
            },
            '34R': {
                name: 'Sweat Band Right',
                prl: 'CogniTropic™, Pr. Complete B Capsules, Phyto Methylate, CereVen™, Pr. B6 Ultra™, Pr. Fermented Turmeric/Ginger',
                jsj: 'INDEX finger hold for detox/stress support. SEL 17: Victorious Transformation (forehead area)',
                band: 'Black/White (absorption and integration for detox)',
                timing: 'Detoxification timing, heavy metal clearing minerals',
                clinical: 'Weak with environmental toxicity, poor sweating, heavy metal toxicity, chemical sensitivity.',
                priority: 'MEDIUM'
            },
            '36A': {
                name: 'Skin Area 1 (S11) - Interference Field',
                prl: 'Pr. Marine Collagen, Pr. DHA, Pr. Green Tea Extract, Green Tea-ND™, Astaxanthin Complex (AFTER geometric correction)',
                jsj: '🚨 Address interference geometrically FIRST, then organ-specific finger holds',
                band: 'Negative Green (carrier wave - requires horizontal orientation)',
                timing: 'IMMEDIATE PRIORITY - blocks all other healing until cleared',
                clinical: '🚨 CRITICAL: Must clear geometrically before any other treatment. Blocks entire energy system.',
                priority: 'IMMEDIATE'
            },
            '36B': {
                name: 'Skin Area 2 (S11) - Interference Field',
                prl: 'Pr. Marine Collagen, Pr. DHA, Pr. Green Tea Extract, Green Tea-ND™, Astaxanthin Complex (AFTER geometric correction)',
                jsj: '🚨 Address interference geometrically FIRST, then organ-specific finger holds',
                band: 'Negative Green (carrier wave - requires horizontal orientation)',
                timing: 'IMMEDIATE PRIORITY - blocks all other healing until cleared',
                clinical: '🚨 CRITICAL: Must clear geometrically before any other treatment. Blocks entire energy system.',
                priority: 'IMMEDIATE'
            },
            '36C': {
                name: 'Skin Area 3 (S11) - Interference Field',
                prl: 'Pr. Marine Collagen, Pr. DHA, Pr. Green Tea Extract, Green Tea-ND™, Astaxanthin Complex (AFTER geometric correction)',
                jsj: '🚨 Address interference geometrically FIRST, then organ-specific finger holds',
                band: 'Negative Green (carrier wave - requires horizontal orientation)',
                timing: 'IMMEDIATE PRIORITY - blocks all other healing until cleared',
                clinical: '🚨 CRITICAL: Must clear geometrically before any other treatment. Blocks entire energy system.',
                priority: 'IMMEDIATE'
            }
        };

        // Complete SEL Reference Data
        const selPoints = [
            { number: 1, name: "Prime Mover", location: "Inside medial knee joint", meaning: "First thrust into creation, regeneration" },
            { number: 2, name: "Life Force", location: "Top of hip", meaning: "Wisdom, connecting Heaven and Earth" },
            { number: 3, name: "Trinity", location: "Between 3rd TV and top of scapula", meaning: "Door of understanding and Defense" },
            { number: 4, name: "The Window", location: "Base of skull (occipital)", meaning: "Knowledge and air, spiritual essence for breath of life" },
            { number: 5, name: "Regeneration", location: "Below inside medial ankle", meaning: "Release from self bondage (fear) - Changes" },
            { number: 6, name: "Balance", location: "Inside medial instep", meaning: "Balance and discrimination" },
            { number: 7, name: "Victory", location: "Big toe sole side, inside and top", meaning: "Perfect life power" },
            { number: 8, name: "Rhythm", location: "Off head of fibula (outside knee)", meaning: "Rhythm, strength and peace - Transformation" },
            { number: 9, name: "Ending/Beginning", location: "Between 7th and 8th TV, base of scapula", meaning: "Every end is the beginning of another" },
            { number: 10, name: "Limitless", location: "Between 5th TV and scapula", meaning: "Limitless outpouring of life force - New beginnings" },
            { number: 11, name: "Justice", location: "Off 1st TV", meaning: "Higher expression of wisdom - Hub of letting go and receiving" },
            { number: 12, name: "Thy Will Be Done", location: "Between ear lobe and cervical", meaning: "Submission of personal consciousness to universal life energy" },
            { number: 13, name: "Love", location: "Center of 3rd rib below point 22", meaning: "Love thy neighbor as thyself - Creator's love" },
            { number: 14, name: "Sustenance", location: "Center base of rib cage, 1st ledge", meaning: "Sustenance, unity, balance, and equilibrium" },
            { number: 15, name: "Joy and Laughter", location: "Top of thigh and groin area, pant crease line", meaning: "All healing of the body, mind, and spirit" },
            { number: 16, name: "Basis and Foundation", location: "Below (outside) lateral ankle bone", meaning: "Basis and foundation of all human activity" },
            { number: 17, name: "Victorious Transformation", location: "Base of wrist bone, little finger side", meaning: "Victorious transformation - Reproductive" },
            { number: 18, name: "Body Consciousness", location: "Wrist below thumb, palm side", meaning: "Our own personal rhythm and body consciousness" },
            { number: 19, name: "Perfect Balance", location: "Bend of elbow, thumb, little finger sides and middle", meaning: "Higher authority and leadership - Perfect balance" },
            { number: 20, name: "Residence of Soul", location: "Between hairline and eyebrow", meaning: "Residence of the Soul - Complete wisdom" },
            { number: 21, name: "Profound Security", location: "Base of cheek bone and crosses at center of nose", meaning: "Profound security - Balance for all wisdom" },
            { number: 22, name: "Complete Acceptance", location: "Below collar bone", meaning: "Complete acceptance - Formation of all thoughts and habits" },
            { number: 23, name: "Proper Circulation", location: "12th TV, back base of ribs", meaning: "Proper circulation and maintenance for all functions" },
            { number: 24, name: "Bridging Wisdom", location: "Off center top of foot, ring and little toes", meaning: "Bridging of wisdom and balance - Harmonizes chaos" },
            { number: 25, name: "Quiet Regeneration", location: "Ischium, sitting bone", meaning: "Quietly regenerates and revitalizes the total being" },
            { number: 26, name: "Complete", location: "Armpit and/or outside of scapula to arm joint", meaning: "Complete - That which was, is and shall be" }
        ];

        // COMPLETE 12-Band Vibrational Spectrum with Higher Harmonics & BG3 System
        const spectrumBands = [
            {
                name: 'Green (+G)',
                angle: '0° (North)',
                function: 'Life force, healing, thymus resonance',
                use: 'General healing, immune system, heart chakra',
                technical: 'Positive polarity, clockwise spin, antidote to Negative Green',
                horizontal: 'Healing vibration, immune support, cellular regeneration',
                vertical: 'Can become stagnant if excessive, immune hyperactivity',
                clinical: 'Primary healing frequency, thymus support, cardiac rhythm',
                chakra: 'Heart chakra (Anahata), unconditional love',
                timing: 'All day, especially sunrise'
            },
            {
                name: 'Blue',
                angle: '30° (1 o\'clock)',
                function: 'Communication, throat chakra, thyroid resonance',
                use: 'Thyroid support, communication issues, cooling',
                technical: 'Cooling vibration, sedative properties, anti-inflammatory',
                horizontal: 'Calming, anti-inflammatory, supports clear communication',
                vertical: 'Can cause lethargy, thyroid suppression, coldness',
                clinical: 'Thyroid regulation, fever reduction, hyperactivity',
                chakra: 'Throat chakra (Vishuddha), expression and truth',
                timing: 'Evening, cooling periods'
            },
            {
                name: 'Indigo',
                angle: '60° (2 o\'clock)',
                function: 'Intuition, pituitary resonance, third eye activation',
                use: 'Meditation, intuitive development, brain function',
                technical: 'Deepest blue vibration, pituitary stimulation, consciousness expansion',
                horizontal: 'Enhanced intuition, pituitary balance, deep meditation',
                vertical: 'Can cause confusion, pituitary imbalance, dissociation',
                clinical: 'Pituitary disorders, sleep regulation, consciousness issues',
                chakra: 'Third eye chakra (Ajna), inner wisdom',
                timing: 'Deep meditation, late evening'
            },
            {
                name: 'Violet',
                angle: '90° (3 o\'clock)',
                function: 'Spiritual connection, pineal resonance, crown chakra',
                use: 'Spiritual development, pineal activation, transmutation',
                technical: 'Highest visible frequency, pineal stimulation, spiritual opening',
                horizontal: 'Spiritual elevation, pineal activation, divine connection',
                vertical: 'Can cause spiritual bypassing, pineal overstimulation',
                clinical: 'Pineal disorders, sleep cycles, spiritual emergence',
                chakra: 'Crown chakra (Sahasrara), divine connection',
                timing: 'Meditation, spiritual practice'
            },
            {
                name: 'Ultraviolet',
                angle: '120° (4 o\'clock)',
                function: 'Hypothalamus resonance, higher consciousness',
                use: 'Advanced spiritual work, hypothalamic regulation',
                technical: 'Beyond visible spectrum, hypothalamic activation, subtle energy',
                horizontal: 'Hypothalamic balance, advanced consciousness, cellular communication',
                vertical: 'Can cause nervous system overstimulation, cellular damage',
                clinical: 'Hypothalamic disorders, advanced neurological conditions',
                chakra: 'Beyond crown, cosmic consciousness',
                timing: 'Advanced spiritual practice only'
            },
            {
                name: 'White',
                angle: '150° (5 o\'clock)',
                function: 'Alta major chakra, full spectrum healing',
                use: 'Complete energetic cleansing, alta major activation',
                technical: 'All colors combined, complete spectrum, universal healing',
                horizontal: 'Complete energetic cleansing, alta major balance, universal healing',
                vertical: 'Can cause energetic overload, system overwhelm',
                clinical: 'Complex multi-system disorders, energetic cleansing',
                chakra: 'Alta major chakra, karmic clearing',
                timing: 'Major cleansing work, full moon'
            },
            {
                name: 'Negative Green',
                angle: '180° (South - 6 o\'clock)',
                function: 'Medulla oblongata, carrier wave, death/rebirth cycles',
                use: 'ADVANCED USE ONLY - Mummification, deep transformation',
                technical: 'Shortest wavelength, most penetrating, death ray potential',
                horizontal: 'Cellular regeneration, deep healing, transformation',
                vertical: 'DEATH RAY - Extremely dangerous, cellular destruction',
                clinical: 'Advanced cancer protocols, deep transformation ONLY',
                chakra: 'Base of skull, survival transformation',
                timing: 'New moon, deep transformation work',
                safety: '⚠️ EXTREME CAUTION - Never use vertical negative green without master training',
                antidote: 'Positive Green immediately neutralizes'
            },
            {
                name: 'Black',
                angle: '210° (7 o\'clock)',
                function: 'Spleen resonance, void energy, absorption',
                use: 'Spleen support, energy absorption, grounding',
                technical: 'Absence of light, infinite absorption, spleen activation',
                horizontal: 'Spleen balance, energy absorption, deep grounding',
                vertical: 'Can cause energy depletion, splenic dysfunction, depression',
                clinical: 'Spleen disorders, energy depletion, absorption issues',
                chakra: 'Spleen chakra, energy processing',
                timing: 'Grounding work, energy clearing'
            },
            {
                name: 'Infrared',
                angle: '240° (8 o\'clock)',
                function: 'Carotid body resonance, circulation, warmth',
                use: 'Circulation improvement, warming, carotid support',
                technical: 'Below visible red, heat generation, circulation stimulation',
                horizontal: 'Improved circulation, warmth, carotid body balance',
                vertical: 'Can cause overheating, circulatory overload, inflammation',
                clinical: 'Circulation disorders, cold conditions, carotid body dysfunction',
                chakra: 'Earth chakra, physical grounding',
                timing: 'Cold periods, circulation work'
            },
            {
                name: 'Red',
                angle: '270° (9 o\'clock)',
                function: 'Gonads resonance, vitality, base chakra',
                use: 'Sexual health, vitality, grounding, adrenal support',
                technical: 'Longest visible wavelength, gonadal stimulation, life force',
                horizontal: 'Sexual vitality, gonadal health, life force activation',
                vertical: 'Can cause sexual excess, gonadal imbalance, aggression',
                clinical: 'Sexual disorders, adrenal fatigue, vitality issues',
                chakra: 'Root chakra (Muladhara), survival and grounding',
                timing: 'Morning vitality, creative work'
            },
            {
                name: 'Orange',
                angle: '300° (10 o\'clock)',
                function: 'Adrenal resonance, creativity, sacral chakra',
                use: 'Adrenal support, creativity, emotional balance',
                technical: 'Adrenal stimulation, creative energy, emotional processing',
                horizontal: 'Adrenal balance, creative flow, emotional stability',
                vertical: 'Can cause adrenal excess, emotional volatility, hyperactivity',
                clinical: 'Adrenal disorders, creative blocks, emotional imbalance',
                chakra: 'Sacral chakra (Svadhisthana), creativity and emotion',
                timing: 'Creative work, emotional processing'
            },
            {
                name: 'Yellow',
                angle: '330° (11 o\'clock)',
                function: 'Pancreas resonance, mental clarity, solar plexus',
                use: 'Digestive support, mental clarity, confidence',
                technical: 'Pancreatic stimulation, mental activation, digestive support',
                horizontal: 'Pancreatic balance, mental clarity, digestive health',
                vertical: 'Can cause mental agitation, pancreatic stress, anxiety',
                clinical: 'Pancreatic disorders, digestive issues, mental clarity',
                chakra: 'Solar plexus chakra (Manipura), personal power',
                timing: 'Mental work, before meals'
            }
        ];

        // BG3 CENTERING VIBRATION - THE UNIFIED FIELD
        const bg3CenteringVibration = {
            name: "BG3 Centering Vibration",
            components: [
                "Higher Harmonic of Gold (from Orange/Indigo bands)",
                "Higher Harmonic of Ultraviolet", 
                "Negative Green (horizontal orientation only)"
            ],
            function: "Creates optimal coherence in living systems - the 'ONE energy quality'",
            description: "Unpolarized energy quality that doesn't push systems in any direction but connects them to their center point of perfect equilibrium",
            detection: "Reacts on Orange, Indigo, Ultraviolet, and Negative Green bands simultaneously",
            clinical: "Essential for all healing work - aligns physical form with etheric template",
            geometry: "Found in the center of every circle and geometric form",
            copyright: "BG3® is Dr. Ibrahim Karim's copyrighted term"
        };

        // 144 SUB-BAND SYSTEM (12 bands × 12 subdivisions)
        const subBandSystem = {
            description: "Each of the 12 primary bands contains 12 sub-bands, creating 144 specific vibrational qualities",
            geometry: "Corresponds to the number of spheres that fit around a central sphere in 3D space",
            application: "Advanced practitioners can detect and work with specific sub-band frequencies",
            significance: "Provides precise vibrational medicine matching biological system requirements"
        };

        // Complete 12-Fold Cell Salt System with Clinical Protocols
        const cellSaltDatabase = {
            1: {
                name: "Calcarea Fluorica",
                zodiac: "Capricorn", 
                dates: "Dec 22 - Jan 21",
                function: "Bone formation, tissue integrity, elastic fiber formation",
                deficiency: "Bone weakness, dental issues, varicose veins, poor tissue elasticity",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Capricorn season, morning for bone building",
                organs: ["bones", "teeth", "connective tissue", "blood vessels"]
            },
            2: {
                name: "Calcarea Phosphorica", 
                zodiac: "Aquarius",
                dates: "Jan 21 - Feb 20", 
                function: "Bone building, growth, cellular nutrition, protein synthesis",
                deficiency: "Poor bone development, slow healing, anemia, growth issues",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Aquarius season, evening for cellular repair",
                organs: ["skeletal system", "blood", "cellular matrix"]
            },
            3: {
                name: "Calcarea Sulphurica",
                zodiac: "Scorpio",
                dates: "Oct 23 - Nov 22",
                function: "Blood purification, healing, elimination, wound repair", 
                deficiency: "Slow healing wounds, blood disorders, skin issues, poor elimination",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Scorpio season, evening for detox processes",
                organs: ["blood", "liver", "skin", "lymphatic system"]
            },
            4: {
                name: "Ferrum Phosphoricum",
                zodiac: "Pisces", 
                dates: "Feb 20 - Mar 21",
                function: "Oxygen transport, circulation, inflammation control, iron metabolism",
                deficiency: "Anemia, poor circulation, inflammation, fever, fatigue",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter", 
                timing: "Enhanced during Pisces season, morning for energy/circulation",
                organs: ["blood", "circulatory system", "immune system"]
            },
            5: {
                name: "Kali Muriaticum",
                zodiac: "Gemini",
                dates: "May 21 - Jun 21", 
                function: "Glandular function, mucous membranes, fibrin formation",
                deficiency: "Glandular swelling, white discharge, congestion, poor mucous membrane function",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Gemini season, midday for glandular function",
                organs: ["glands", "mucous membranes", "respiratory system"]
            },
            6: {
                name: "Kali Phosphoricum", 
                zodiac: "Aries",
                dates: "Mar 21 - Apr 21",
                function: "Nervous system, brain nutrition, spiritual electricity, mental energy",
                deficiency: "Mental fatigue, depression, nervous exhaustion, brain fog",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Aries season, morning for mental clarity", 
                organs: ["nervous system", "brain", "mental faculties"]
            },
            7: {
                name: "Kali Sulphuricum",
                zodiac: "Virgo", 
                dates: "Aug 23 - Sep 23",
                function: "Skin, hair, oxygen transport to cells, oil formation",
                deficiency: "Skin disorders, hair loss, poor oxygenation, dry skin/hair",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Virgo season, evening for skin regeneration",
                organs: ["skin", "hair", "cellular oxygenation"]
            },
            8: {
                name: "Magnesium Phosphoricum",
                zodiac: "Leo",
                dates: "Jul 22 - Aug 23", 
                function: "Muscle and nerve function, anti-spasmodic, heart rhythm",
                deficiency: "Muscle cramps, nerve pain, spasms, heart irregularities",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Leo season, evening for muscle relaxation",
                organs: ["muscular system", "nervous system", "heart"]
            },
            9: {
                name: "Natrium Muriaticum",
                zodiac: "Cancer",
                dates: "Jun 21 - Jul 22",
                function: "Water balance, cellular hydration, emotional balance", 
                deficiency: "Edema, dry skin, emotional imbalance, poor fluid regulation",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Cancer season, evening for emotional balance",
                organs: ["fluid balance", "kidneys", "emotional body"]
            },
            10: {
                name: "Natrium Phosphoricum",
                zodiac: "Libra",
                dates: "Sep 23 - Oct 23",
                function: "Acid-alkaline balance, fat digestion, pH regulation",
                deficiency: "Acid conditions, poor fat digestion, arthritis, heartburn", 
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Libra season, before meals for digestion",
                organs: ["digestive system", "pH balance", "joints"]
            },
            11: {
                name: "Natrium Sulphuricum", 
                zodiac: "Taurus",
                dates: "Apr 21 - May 21",
                function: "Water elimination, liver function, bile production",
                deficiency: "Water retention, liver sluggishness, gallstones, edema",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter", 
                timing: "Enhanced during Taurus season, morning for liver function",
                organs: ["liver", "gallbladder", "water elimination"]
            },
            12: {
                name: "Silicea",
                zodiac: "Sagittarius", 
                dates: "Nov 22 - Dec 22",
                function: "Connective tissue, hair, nails, elimination, structural support",
                deficiency: "Poor connective tissue, brittle nails, slow elimination, weak structure",
                dosage: "3 tablets, 3x daily until taste changes from sweet to bitter",
                timing: "Enhanced during Sagittarius season, evening for tissue repair", 
                organs: ["connective tissue", "elimination", "structural support"]
            }
        };

        // Cell Salt Helper Functions
        function getConstitutionalSalt(birthDate) {
            const month = birthDate.getMonth() + 1;
            const day = birthDate.getDate();
            
            // Determine zodiac sign from birth date
            if ((month == 3 && day >= 21) || (month == 4 && day <= 21)) return cellSaltDatabase[6]; // Aries - Kali Phos
            if ((month == 4 && day >= 22) || (month == 5 && day <= 21)) return cellSaltDatabase[11]; // Taurus - Nat Sulph  
            if ((month == 5 && day >= 22) || (month == 6 && day <= 21)) return cellSaltDatabase[5]; // Gemini - Kali Mur
            if ((month == 6 && day >= 22) || (month == 7 && day <= 22)) return cellSaltDatabase[9]; // Cancer - Nat Mur
            if ((month == 7 && day >= 23) || (month == 8 && day <= 23)) return cellSaltDatabase[8]; // Leo - Mag Phos
            if ((month == 8 && day >= 24) || (month == 9 && day <= 23)) return cellSaltDatabase[7]; // Virgo - Kali Sulph
            if ((month == 9 && day >= 24) || (month == 10 && day <= 23)) return cellSaltDatabase[10]; // Libra - Nat Phos
            if ((month == 10 && day >= 24) || (month == 11 && day <= 22)) return cellSaltDatabase[3]; // Scorpio - Calc Sulph
            if ((month == 11 && day >= 23) || (month == 12 && day <= 22)) return cellSaltDatabase[12]; // Sagittarius - Silicea
            if ((month == 12 && day >= 23) || (month == 1 && day <= 21)) return cellSaltDatabase[1]; // Capricorn - Calc Fluor
            if ((month == 1 && day >= 22) || (month == 2 && day <= 20)) return cellSaltDatabase[2]; // Aquarius - Calc Phos
            if ((month == 2 && day >= 21) || (month == 3 && day <= 20)) return cellSaltDatabase[4]; // Pisces - Ferrum Phos
        }

        function getOrganSalt(qraPoint) {
            // COMPLETE Map - ALL 37+ QRA points to specific organ salts
            const organSaltMap = {
                // Single Points
                '1': 6,   // Sacral CC -> Kali Phos (spiritual electricity)
                '3': 6,   // Brain 1 -> Kali Phos (brain nutrition)
                '4': 6,   // Hypothalamus -> Kali Phos (nervous system)
                '5': 6,   // Pituitary -> Kali Phos (nerve/brain)
                '9': 5,   // Thyroid -> Kali Mur (glandular)
                '10': 4,  // Thymus -> Ferrum Phos (immune/circulation)
                '11': 8,  // Heart Inflow -> Mag Phos (heart muscle)
                '12': 8,  // Heart Outflow -> Mag Phos (heart muscle)
                '13': 5,  // Stomach -> Kali Mur (mucous membranes)
                '14': 10, // Small Intestine -> Nat Phos (digestion)
                '15': 11, // Colon -> Nat Sulph (elimination)
                '16': 4,  // Reproductive -> Ferrum Phos (circulation)
                '22': 9,  // Spleen -> Nat Mur (fluid balance)
                '23': 10, // Insulin -> Nat Phos (pH balance)
                '24': 11, // Gallbladder -> Nat Sulph (liver function)
                '25': 11, // Liver -> Nat Sulph (liver function)
                '26': 10, // Pancreas -> Nat Phos (enzyme function)
                '28': 1,  // Bone -> Calc Fluor (bone structure)
                '30F': 5, // Frontal Sinus -> Kali Mur (mucous membranes)
                
                // Bilateral Points - LEFT SIDE
                '2L': 4,  // Kidney L -> Ferrum Phos (circulation)  
                '2R': 4,  // Kidney R -> Ferrum Phos (circulation)
                '6L': 6,  // Occipital Lobe L -> Kali Phos (brain)
                '6R': 6,  // Occipital Lobe R -> Kali Phos (brain)
                '7L': 6,  // Cell Energy L -> Kali Phos (cellular energy)
                '7R': 6,  // Cell Energy R -> Kali Phos (cellular energy)
                '8L': 1,  // Parathyroid L -> Calc Fluor (calcium)
                '8R': 1,  // Parathyroid R -> Calc Fluor (calcium)
                '17L': 4, // Ovary/Testes L -> Ferrum Phos (circulation)
                '17R': 4, // Ovary/Testes R -> Ferrum Phos (circulation)
                '18L': 9, // Bladder L -> Nat Mur (water balance)
                '18R': 9, // Bladder R -> Nat Mur (water balance)
                '19L': 4, // Circulation L -> Ferrum Phos (circulation)
                '19R': 4, // Circulation R -> Ferrum Phos (circulation)
                '20L': 9, // Lymphatic L -> Nat Mur (fluid balance)
                '20R': 9, // Lymphatic R -> Nat Mur (fluid balance)
                '21L': 6, // Adrenal L -> Kali Phos (stress/nervous)
                '21R': 6, // Adrenal R -> Kali Phos (stress/nervous)
                '27L': 6, // Deep Sleep L -> Kali Phos (nervous system)
                '27R': 6, // Deep Sleep R -> Kali Phos (nervous system)
                '29L': 7, // Lung L -> Kali Sulph (oxygen transport)
                '29R': 7, // Lung R -> Kali Sulph (oxygen transport)
                '30ML': 5, // Maxillary Sinus L -> Kali Mur (mucous)
                '30MR': 5, // Maxillary Sinus R -> Kali Mur (mucous)
                '30EL': 5, // Ethmoid Sinus L -> Kali Mur (mucous)
                '30ER': 5, // Ethmoid Sinus R -> Kali Mur (mucous)
                '31L': 6, // Brain 2 L -> Kali Phos (brain nutrition)
                '31R': 6, // Brain 2 R -> Kali Phos (brain nutrition)
                '32L': 6, // Brain 3 L -> Kali Phos (advanced brain)
                '32R': 6, // Brain 3 R -> Kali Phos (advanced brain)
                '33L': 5, // Parotid L -> Kali Mur (glandular)
                '33R': 5, // Parotid R -> Kali Mur (glandular)
                '35L': 6, // Eye L -> Kali Phos (nerve/vision)
                '35R': 6, // Eye R -> Kali Phos (nerve/vision)
                '37L': 6, // Ear L -> Kali Phos (nerve/hearing)
                '37R': 6, // Ear R -> Kali Phos (nerve/hearing)
                
                // Multiple Area Points
                '34L': 12, // Sweat Band L -> Silicea (elimination)
                '34C': 12, // Sweat Band C -> Silicea (elimination)
                '34R': 12, // Sweat Band R -> Silicea (elimination)
                '36A': null, // Interference - geometric clearing first
                '36B': null, // Interference - geometric clearing first
                '36C': null  // Interference - geometric clearing first
            };
            
            return cellSaltDatabase[organSaltMap[qraPoint]] || null;
        }

        // Constitutional Salt Calculator
        function calculateConstitutionalSalt() {
            const birthDateInput = document.getElementById('birth-date-calculator');
            const resultDiv = document.getElementById('constitutional-result');
            
            if (!birthDateInput.value) {
                resultDiv.innerHTML = 'Enter birth date to calculate';
                return;
            }
            
            const birthDate = new Date(birthDateInput.value);
            const constitutionalSalt = getConstitutionalSalt(birthDate);
            
            if (constitutionalSalt) {
                resultDiv.innerHTML = `
                    <div style="color: #007bff; font-size: 16px; margin-bottom: 8px;">
                        ${constitutionalSalt.name}
                    </div>
                    <div style="font-size: 14px; color: #495057;">
                        <strong>Function:</strong> ${constitutionalSalt.function}<br>
                        <strong>Dosage:</strong> ${constitutionalSalt.dosage}<br>
                        <strong>Enhanced During:</strong> ${constitutionalSalt.dates}
                    </div>
                `;
            } else {
                resultDiv.innerHTML = 'Unable to calculate - please check birth date';
            }
        }

        // Client-Specific Constitutional Salt Calculator
        function calculateClientConstitutionalSalt() {
            const birthDateInput = document.getElementById('client-birth-date');
            const resultDiv = document.getElementById('client-constitutional-salt');
            
            if (!birthDateInput.value) {
                resultDiv.innerHTML = 'Enter client birth date to calculate constitutional salt';
                return;
            }
            
            const birthDate = new Date(birthDateInput.value);
            const constitutionalSalt = getConstitutionalSalt(birthDate);
            
            if (constitutionalSalt) {
                resultDiv.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <div style="color: #28a745; font-size: 18px; font-weight: bold;">
                            📅 ${constitutionalSalt.name}
                        </div>
                        <div style="background: #28a745; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px;">
                            ${constitutionalSalt.zodiac}
                        </div>
                    </div>
                    <div style="font-size: 14px; color: #495057; line-height: 1.5;">
                        <div style="margin-bottom: 8px;"><strong>Birth Period:</strong> ${constitutionalSalt.dates}</div>
                        <div style="margin-bottom: 8px;"><strong>Function:</strong> ${constitutionalSalt.function}</div>
                        <div style="margin-bottom: 8px;"><strong>Dosage:</strong> ${constitutionalSalt.dosage}</div>
                        <div style="margin-bottom: 8px;"><strong>Timing:</strong> ${constitutionalSalt.timing}</div>
                        <div style="background: #fff3cd; padding: 8px; border-radius: 6px; border-left: 3px solid #ffc107;">
                            <strong>Clinical Note:</strong> This constitutional salt should be taken continuously as foundational support, in addition to any organ-specific salts indicated by weak QRA points.
                        </div>
                    </div>
                `;
                
                // Store constitutional salt for protocol generation
                window.currentClientConstitutionalSalt = constitutionalSalt;
            } else {
                resultDiv.innerHTML = 'Unable to calculate - please check birth date';
            }
        }

        // Complete 12-Fold Cell Salt System
        const cellSalts = [
            { number: 1, name: "Calcarea Fluorica", zodiac: "Capricorn", dates: "Dec 22 - Jan 21", function: "Bone formation, tissue integrity, structure", deficiency: "Bone weakness, dental issues, varicose veins" },
            { number: 2, name: "Calcarea Phosphorica", zodiac: "Aquarius", dates: "Jan 21 - Feb 20", function: "Bone building, growth, cellular nutrition", deficiency: "Poor bone development, slow healing, anemia" },
            { number: 3, name: "Calcarea Sulphurica", zodiac: "Scorpio", dates: "Oct 23 - Nov 22", function: "Blood purification, healing, elimination", deficiency: "Slow healing wounds, blood disorders, skin issues" },
            { number: 4, name: "Ferrum Phosphoricum", zodiac: "Pisces", dates: "Feb 20 - Mar 21", function: "Oxygen transport, circulation, inflammation", deficiency: "Anemia, poor circulation, inflammation, fever" },
            { number: 5, name: "Kali Muriaticum", zodiac: "Gemini", dates: "May 21 - Jun 21", function: "Glandular function, mucous membranes", deficiency: "Glandular swelling, white discharge, congestion" },
            { number: 6, name: "Kali Phosphoricum", zodiac: "Aries", dates: "Mar 21 - Apr 21", function: "Nervous system, brain nutrition, spiritual electricity", deficiency: "Mental fatigue, depression, nervous exhaustion" },
            { number: 7, name: "Kali Sulphuricum", zodiac: "Virgo", dates: "Aug 23 - Sep 23", function: "Skin, hair, oxygen transport to cells", deficiency: "Skin disorders, hair loss, poor oxygenation" },
            { number: 8, name: "Magnesium Phosphoricum", zodiac: "Leo", dates: "Jul 22 - Aug 23", function: "Muscle and nerve function, anti-spasmodic", deficiency: "Muscle cramps, nerve pain, spasms" },
            { number: 9, name: "Natrium Muriaticum", zodiac: "Cancer", dates: "Jun 21 - Jul 22", function: "Water balance, cellular hydration", deficiency: "Edema, dry skin, emotional imbalance" },
            { number: 10, name: "Natrium Phosphoricum", zodiac: "Libra", dates: "Sep 23 - Oct 23", function: "Acid-alkaline balance, fat digestion", deficiency: "Acid conditions, poor fat digestion, arthritis" },
            { number: 11, name: "Natrium Sulphuricum", zodiac: "Taurus", dates: "Apr 21 - May 21", function: "Water elimination, liver function", deficiency: "Water retention, liver sluggishness, gallstones" },
            { number: 12, name: "Silicea", zodiac: "Sagittarius", dates: "Nov 22 - Dec 22", function: "Connective tissue, hair, nails, elimination", deficiency: "Poor connective tissue, brittle nails, slow elimination" }
        ];

        // Current Session State
        let selectedPoints = new Set();
        let sectionPhotos = {
            jsj: [],
            geometric: [],
            radiesthetic: [],
            custom: [],
            cellsalt: [],  // 🆕 ADD THIS
            master: []
        };

        // Initialize Application
        document.addEventListener('DOMContentLoaded', function() {
            populateQRAPoints();
            populateReferenceGrids();
            loadSavedProtocols();
            setupPhotoHandlers();
            
            // Set default date
            document.getElementById('assessment-date').value = new Date().toISOString().split('T')[0];
        });

        // Populate QRA Point Selection Interface
        function populateQRAPoints() {
            // Single Points
            const singleContainer = document.getElementById('single-points');
            qraPoints.single.forEach(point => {
                const div = document.createElement('div');
                div.className = 'point-item';
                div.innerHTML = `
                    <input type="checkbox" class="point-checkbox" value="${point.id}" data-name="${point.name}">
                    <div>
                        <strong>${point.name}</strong><br>
                        <small>${point.location}</small>
                    </div>
                `;
                div.addEventListener('change', handlePointSelection);
                singleContainer.appendChild(div);
            });

            // Bilateral Points
            const bilateralContainer = document.getElementById('bilateral-points');
            qraPoints.bilateral.forEach(point => {
                const div = document.createElement('div');
                div.className = 'bilateral-section';
                div.innerHTML = `
                    <div class="bilateral-name">
                        <strong>${point.name}</strong><br>
                        <small>${point.location}</small>
                    </div>
                    <label class="bilateral-checkbox">
                        <input type="checkbox" value="${point.id}L" data-name="${point.name} Left">
                        Left
                    </label>
                    <label class="bilateral-checkbox">
                        <input type="checkbox" value="${point.id}R" data-name="${point.name} Right">
                        Right
                    </label>
                `;
                bilateralContainer.appendChild(div);
            });

            // Multiple Area Points
            const multipleContainer = document.getElementById('multiple-points');
            qraPoints.multiple.forEach(point => {
                const div = document.createElement('div');
                div.className = 'bilateral-section';
                let optionsHTML = '';
                point.options.forEach((option, index) => {
                    const suffix = ['A', 'B', 'C'][index] || `${index + 1}`;
                    optionsHTML += `
                        <label class="bilateral-checkbox">
                            <input type="checkbox" value="${point.id}${suffix}" data-name="${point.name} ${option}">
                            ${option}
                        </label>
                    `;
                });
                div.innerHTML = `
                    <div class="bilateral-name">
                        <strong>${point.name}</strong><br>
                        <small>${point.location}</small>
                    </div>
                    ${optionsHTML}
                `;
                multipleContainer.appendChild(div);
            });

            // Add event listeners to all checkboxes
            document.querySelectorAll('.point-checkbox, .bilateral-checkbox input').forEach(checkbox => {
                checkbox.addEventListener('change', handlePointSelection);
            });
        }

        // Populate All Reference Grids
        function populateReferenceGrids() {
            // SEL Reference
            const selGrid = document.getElementById('sel-grid');
            selPoints.forEach(sel => {
                const div = document.createElement('div');
                div.className = 'reference-item sel';
                div.innerHTML = `
                    <div class="reference-title">SEL ${sel.number}: ${sel.name}</div>
                    <div>${sel.location}</div>
                    <div class="reference-detail">${sel.meaning}</div>
                `;
                selGrid.appendChild(div);
            });

            // Enhanced Spectrum Reference with Complete Knowledge Base Data
            const spectrumGrid = document.getElementById('spectrum-grid');

            // Add BG3 explanation first
            const bg3Div = document.createElement('div');
            bg3Div.className = 'reference-item';
            bg3Div.style.borderLeft = '4px solid #FFD700';
            bg3Div.innerHTML = `
                <div class="reference-title">🎯 BG3 Centering Vibration (The "ONE Energy")</div>
                <div><strong>Components:</strong> ${bg3CenteringVibration.components.join(' + ')}</div>
                <div><strong>Function:</strong> ${bg3CenteringVibration.function}</div>
                <div class="reference-detail"><strong>Clinical:</strong> ${bg3CenteringVibration.clinical}</div>
                <div class="reference-detail"><strong>Detection:</strong> ${bg3CenteringVibration.detection}</div>
            `;
            spectrumGrid.appendChild(bg3Div);

            // Add complete spectrum with all knowledge base data
            spectrumBands.forEach(band => {
                const div = document.createElement('div');
                div.className = 'reference-item band';
                
                // Special styling for Negative Green
                if (band.name === 'Negative Green') {
                    div.style.borderLeft = '4px solid #FF0000';
                    div.style.background = '#FFF5F5';
                }
                
                div.innerHTML = `
                    <div class="reference-title">${band.name} Band</div>
                    <div><strong>Function:</strong> ${band.function}</div>
                    <div><strong>Use:</strong> ${band.use}</div>
                    <div><strong>Technical:</strong> ${band.technical}</div>
                    <div class="reference-detail"><strong>Horizontal (Beneficial):</strong> ${band.horizontal}</div>
                    <div class="reference-detail"><strong>Vertical (Detrimental):</strong> ${band.vertical}</div>
                    <div class="reference-detail"><strong>Clinical:</strong> ${band.clinical}</div>
                    <div class="reference-detail"><strong>Chakra:</strong> ${band.chakra}</div>
                    <div class="reference-detail"><strong>Angle:</strong> ${band.angle}</div>
                    <div class="reference-detail"><strong>Timing:</strong> ${band.timing}</div>
                    ${band.higherHarmonic ? `<div class="reference-detail"><strong>Higher Harmonic:</strong> ${band.higherHarmonic}</div>` : ''}
                    ${band.antidote ? `<div class="reference-detail"><strong>Antidote:</strong> ${band.antidote}</div>` : ''}
                    ${band.bg3Component ? `<div class="reference-detail"><strong>BG3:</strong> ${band.bg3Component}</div>` : ''}
                    ${band.safety ? `<div style="color: #dc3545; font-weight: bold; background: #f8d7da; padding: 8px; border-radius: 4px; margin-top: 8px;"><strong>⚠️ SAFETY:</strong> ${band.safety}</div>` : ''}
                `;
                spectrumGrid.appendChild(div);
            });

            // Add sub-band system explanation
            const subBandDiv = document.createElement('div');
            subBandDiv.className = 'reference-item';
            subBandDiv.style.borderLeft = '4px solid #6f42c1';
            subBandDiv.innerHTML = `
                <div class="reference-title">🔬 144 Sub-Band System</div>
                <div><strong>Structure:</strong> ${subBandSystem.description}</div>
                <div><strong>Geometry:</strong> ${subBandSystem.geometry}</div>
                <div class="reference-detail"><strong>Application:</strong> ${subBandSystem.application}</div>
                <div class="reference-detail"><strong>Significance:</strong> ${subBandSystem.significance}</div>
            `;
            spectrumGrid.appendChild(subBandDiv);

            // Enhanced Cell Salts Reference
            const cellSaltsGrid = document.getElementById('cell-salts-grid');
            Object.values(cellSaltDatabase).forEach(salt => {
                const div = document.createElement('div');
                div.className = 'reference-item salt';
                div.innerHTML = `
                    <div class="reference-title">${salt.name}</div>
                    <div><strong>Zodiac:</strong> ${salt.zodiac} (${salt.dates})</div>
                    <div><strong>Function:</strong> ${salt.function}</div>
                    <div><strong>Dosage:</strong> ${salt.dosage}</div>
                    <div><strong>Timing:</strong> ${salt.timing}</div>
                    <div class="reference-detail"><strong>Deficiency Signs:</strong> ${salt.deficiency}</div>
                    <div class="reference-detail"><strong>Organs:</strong> ${salt.organs.join(', ')}</div>
                `;
                cellSaltsGrid.appendChild(div);
            });
        }

        // Handle Point Selection
        function handlePointSelection(event) {
            const checkbox = event.target;
            const pointContainer = checkbox.closest('.point-item, .bilateral-section');
            
            if (checkbox.checked) {
                selectedPoints.add(checkbox.value);
                pointContainer.classList.add('selected');
            } else {
                selectedPoints.delete(checkbox.value);
                pointContainer.classList.remove('selected');
            }
            
            updateWeakPointsSummary();
        }

        // Update Weak Points Summary
        function updateWeakPointsSummary() {
            const summaryElement = document.getElementById('weak-points-summary');
            const selectedNames = Array.from(selectedPoints).map(value => {
                const checkbox = document.querySelector(`input[value="${value}"]`);
                return checkbox ? checkbox.getAttribute('data-name') : value;
            });
            summaryElement.value = selectedNames.join(', ');
        }

        // Clear All Points
        function clearAllPoints() {
            selectedPoints.clear();
            document.querySelectorAll('.point-checkbox, .bilateral-checkbox input').forEach(checkbox => {
                checkbox.checked = false;
            });
            document.querySelectorAll('.point-item, .bilateral-section').forEach(container => {
                container.classList.remove('selected');
            });
            updateWeakPointsSummary();
        }

        // Select Common Patterns
        function selectCommonPatterns() {
            const patterns = [
                { name: 'Kidney-Adrenal Exhaustion', points: ['2L', '2R', '21L', '21R'] },
                { name: 'Digestive Dysfunction', points: ['13', '14', '25', '26'] },
                { name: 'Cardiovascular Stress', points: ['11', '12', '19L', '19R'] },
                { name: 'Neurological Pattern', points: ['3', '31L', '31R', '32L', '32R'] },
                { name: 'Interference Fields', points: ['36A', '36B', '36C'] },
                { name: 'Respiratory/Immune', points: ['29L', '29R', '10', '20L', '20R'] }
            ];
            
            const patternName = prompt(`Select pattern:\n${patterns.map((p, i) => `${i + 1}. ${p.name}`).join('\n')}\n\nEnter number (1-${patterns.length}):`);
            const patternIndex = parseInt(patternName) - 1;
            
            if (patternIndex >= 0 && patternIndex < patterns.length) {
                clearAllPoints();
                patterns[patternIndex].points.forEach(pointValue => {
                    const checkbox = document.querySelector(`input[value="${pointValue}"]`);
                    if (checkbox) {
                        checkbox.checked = true;
                        checkbox.dispatchEvent(new Event('change', { bubbles: true }));
                    }
                });
            }
        }

        // Generate Protocols
        function generateProtocols() {
            if (selectedPoints.size === 0) {
                alert('Please select at least one weak measurement point first.');
                return;
            }
            
            const selectedArray = Array.from(selectedPoints);
            const protocols = generateProtocolRecommendations(selectedArray);
            displayProtocolResults(protocols, selectedArray);
            showTab('protocols');
        }

        // Generate Protocol Recommendations
        function generateProtocolRecommendations(selectedPoints) {
            const results = {
                patterns: analyzePatterns(selectedPoints),
                protocols: [],
                priorities: [],
                emergencyWarnings: []
            };
            
            // Check for interference fields first
            const interferencePoints = selectedPoints.filter(p => p.startsWith('36'));
            if (interferencePoints.length > 0) {
                results.emergencyWarnings.push({
                    type: 'interference',
                    message: 'INTERFERENCE FIELDS DETECTED',
                    description: 'Scars, burns, or trauma sites are blocking energy flow. Must be cleared geometrically with BioGeometry tools BEFORE any nutritional or JSJ protocols will be effective.',
                    action: 'Use Memory of a Line technique and BG3 correction shapes immediately.'
                });
            }
            
            // Generate individual protocols
            selectedPoints.forEach(pointValue => {
                const protocol = protocolDatabase[pointValue];
                if (protocol) {
                    // Get organ-specific cell salt
                    const organSalt = getOrganSalt(pointValue);
                    
                    results.protocols.push({
                        point: pointValue,
                        ...protocol,
                        // 🆕 ADD cell salt if available
                        cellSalt: organSalt || protocol.cellSalt || null
                    });
                } else {
                    results.protocols.push({
                        point: pointValue,
                        name: `Point ${pointValue}`,
                        prl: 'Protocol not found in database',
                        jsj: 'Protocol not found in database',
                        band: 'Protocol not found in database',
                        timing: 'Protocol not found in database',
                        clinical: 'Protocol not found in database',
                        cellSalt: null,
                        priority: 'MEDIUM'
                    });
                }
            });
            
            // Sort by priority
            results.protocols.sort((a, b) => {
                const priorityOrder = { 'IMMEDIATE': 0, 'HIGH': 1, 'MEDIUM': 2, 'LOW': 3 };
                return priorityOrder[a.priority] - priorityOrder[b.priority];
            });
            
            return results;
        }

        // Analyze Patterns
        function analyzePatterns(selectedPoints) {
            const patterns = [];
            
            // Kidney-Adrenal Pattern
            if (selectedPoints.some(p => ['2L', '2R'].includes(p)) && 
                selectedPoints.some(p => ['21L', '21R'].includes(p))) {
                patterns.push({
                    name: 'Kidney-Adrenal Exhaustion Pattern',
                    description: 'Classic stress and fatigue pattern requiring foundational support',
                    jsj: 'INDEX finger holds (20-60 min) + SEL 23 work. Peak time: 6-8 PM',
                    priority: 'HIGH'
                });
            }
            
            // Interference Field Pattern
            if (selectedPoints.some(p => p.startsWith('36'))) {
                patterns.push({
                    name: 'Interference Field Pattern',
                    description: 'Energy blocking from scars/trauma - must clear geometrically first',
                    jsj: 'Clear interference FIRST, then organ-specific protocols',
                    priority: 'IMMEDIATE'
                });
            }
            
            // Digestive Pattern
            if (selectedPoints.some(p => ['13'].includes(p)) && 
                (selectedPoints.some(p => ['25'].includes(p)) || selectedPoints.some(p => ['26'].includes(p)))) {
                patterns.push({
                    name: 'Digestive Dysfunction Pattern',
                    description: 'Stomach-liver-pancreas imbalance requiring systematic digestive support',
                    jsj: 'THUMB + MIDDLE finger rotation. Stomach peak: 8-10 AM, Liver peak: 2-4 AM',
                    priority: 'MEDIUM'
                });
            }
            
            // Neurological Pattern
            if (selectedPoints.some(p => ['3', '31L', '31R', '32L', '32R'].includes(p))) {
                patterns.push({
                    name: 'Neurological Stress Pattern',
                    description: 'Brain function and consciousness issues requiring neurological support',
                    jsj: 'All fingers sequentially for brain integration + SEL 26 work',
                    priority: 'HIGH'
                });
            }
            
            // Cardiovascular Pattern
            if (selectedPoints.some(p => ['11', '12'].includes(p)) && 
                selectedPoints.some(p => ['19L', '19R'].includes(p))) {
                patterns.push({
                    name: 'Cardiovascular Stress Pattern',
                    description: 'Heart and circulation under pressure requiring cardiovascular support',
                    jsj: 'LITTLE finger holds (20-60 min) + SEL 15, 26. Peak: 12-2 PM',
                    priority: 'HIGH'
                });
            }
            
            return patterns;
        }

        // Display Protocol Results
        function displayProtocolResults(results, selectedPoints) {
            const container = document.getElementById('protocol-results');
            container.style.display = 'block';
            
            let html = '<div class="section-card"><div class="section-title">🎯 Generated Protocol Recommendations</div>';
            
            // Emergency Warnings
            if (results.emergencyWarnings.length > 0) {
                results.emergencyWarnings.forEach(warning => {
                    html += `
                        <div class="alert alert-danger interference-warning">
                            <h4>🚨 ${warning.message}</h4>
                            <p><strong>${warning.description}</strong></p>
                            <p><strong>Action Required:</strong> ${warning.action}</p>
                        </div>
                    `;
                });
            }
            
            // Pattern Analysis
            if (results.patterns.length > 0) {
                html += '<div class="alert alert-warning">';
                html += '<h4>🔍 Pattern Recognition</h4>';
                results.patterns.forEach(pattern => {
                    html += `
                        <div style="margin-bottom: 15px;">
                            <strong>${pattern.name}</strong><br>
                            ${pattern.description}<br>
                            <em>JSJ Protocol: ${pattern.jsj}</em>
                        </div>
                    `;
                });
                html += '</div>';
            }
            
            // Individual Protocols
            html += '<h4>📋 Individual Point Protocols</h4>';

            // Add constitutional salt recommendation if available
            if (window.currentClientConstitutionalSalt) {
                html += `
                    <div class="alert alert-success" style="margin-bottom: 20px;">
                        <h5>🎯 Constitutional Foundation Protocol</h5>
                        <strong>${window.currentClientConstitutionalSalt.name}</strong> - Take continuously as foundational support<br>
                        <em>Dosage:</em> ${window.currentClientConstitutionalSalt.dosage}<br>
                        <em>Function:</em> ${window.currentClientConstitutionalSalt.function}
                    </div>
                `;
            }

            results.protocols.forEach(protocol => {
                const priorityClass = protocol.priority === 'IMMEDIATE' ? 'alert-danger' : 
                                   protocol.priority === 'HIGH' ? 'alert-warning' : 'alert-info';
                
                html += `
                    <div class="protocol-card">
                        <div class="protocol-header">
                            🎯 ${protocol.name}
                            <span class="alert ${priorityClass}" style="padding: 4px 8px; margin-left: auto; font-size: 12px;">
                                ${protocol.priority} PRIORITY
                            </span>
                        </div>
                        <div class="protocol-section">
                            <div class="protocol-label">🥄 PRL Supplements:</div>
                            ${protocol.prl}
                        </div>
                        <div class="protocol-section">
                            <div class="protocol-label">🤲 JSJ Protocol:</div>
                            ${protocol.jsj}
                        </div>
                        <div class="protocol-section">
                            <div class="protocol-label">🌈 Vibrational Band:</div>
                            ${protocol.band}
                        </div>
                        
                        <!-- 🆕 ADD THIS CELL SALT SECTION: -->
                        ${protocol.cellSalt ? `
                        <div class="protocol-section">
                            <div class="protocol-label">🧂 Organ-Specific Cell Salt:</div>
                            <strong>${protocol.cellSalt.primary}</strong><br>
                            <em>Function:</em> ${protocol.cellSalt.function}<br>
                            <em>Dosage:</em> ${protocol.cellSalt.dosage}<br>
                            <em>Timing:</em> ${protocol.cellSalt.timing}<br>
                            <em>Clinical:</em> ${protocol.cellSalt.clinical}
                            <div style="background: #e8f5e8; padding: 8px; border-radius: 6px; margin-top: 8px; font-size: 13px;">
                                <strong>Combination Protocol:</strong> Take this organ-specific salt alongside your constitutional salt for comprehensive support.
                            </div>
                        </div>
                        ` : ''}
                        
                        <div class="protocol-section">
                            <div class="protocol-label">⏰ Timing/Zodiacal:</div>
                            ${protocol.timing}
                        </div>
                        <div class="protocol-section">
                            <div class="protocol-label">📝 Clinical Notes:</div>
                            ${protocol.clinical}
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }

        // Tab Management
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // Update tab buttons
            document.querySelectorAll('.workflow-tab').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeTabButton = Array.from(document.querySelectorAll('.workflow-tab'))
                .find(btn => btn.onclick.toString().includes(tabName));
            if (activeTabButton) {
                activeTabButton.classList.add('active');
            }
        }

        // Photo Handling
        function setupPhotoHandlers() {
            const photoZones = document.querySelectorAll('.photo-zone');
            
            photoZones.forEach(zone => {
                ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                    zone.addEventListener(eventName, preventDefaults, false);
                });
                
                ['dragenter', 'dragover'].forEach(eventName => {
                    zone.addEventListener(eventName, highlight, false);
                });
                
                ['dragleave', 'drop'].forEach(eventName => {
                    zone.addEventListener(eventName, unhighlight, false);
                });
                
                zone.addEventListener('drop', handleDrop, false);
            });
        }

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        function highlight(e) {
            e.currentTarget.classList.add('dragover');
        }

        function unhighlight(e) {
            e.currentTarget.classList.remove('dragover');
        }

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            
            // Determine section from the drop target
            const section = e.currentTarget.onclick ? 
                e.currentTarget.onclick.toString().match(/getElementById\('([^']+)-photo-upload'\)/)?.[1] || 'master' : 'master';
            
            handleSectionPhotoUpload({ target: { files } }, section);
        }

        function handleSectionPhotoUpload(event, section) {
            const files = Array.from(event.target.files);
            const preview = document.getElementById(`${section}-photo-preview`);
            
            files.forEach(file => {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const photoItem = document.createElement('div');
                        photoItem.className = 'photo-item';
                        photoItem.innerHTML = `
                            <img src="${e.target.result}" alt="${file.name}">
                            <button class="photo-remove" onclick="removeSectionPhoto(this, '${section}')">×</button>
                        `;
                        preview.appendChild(photoItem);
                        
                        sectionPhotos[section].push({
                            src: e.target.result,
                            filename: file.name,
                            timestamp: new Date().toISOString()
                        });
                    };
                    reader.readAsDataURL(file);
                }
            });
        }

        function removeSectionPhoto(button, section) {
            const photoItem = button.parentElement;
            const img = photoItem.querySelector('img');
            const src = img.src;
            
            // Remove from section photos array
            sectionPhotos[section] = sectionPhotos[section].filter(photo => photo.src !== src);
            
            // Remove from DOM
            photoItem.remove();
        }

        // Protocol Management
        function saveProtocol() {
            const protocol = {
                id: Date.now(),
                date: document.getElementById('assessment-date').value,
                clientFullName: document.getElementById('client-full-name').value,  // 🆕 NEW
                clientInitials: document.getElementById('client-initials').value,
                clientBirthDate: document.getElementById('client-birth-date').value,  // 🆕 NEW
                clientGender: document.getElementById('client-gender').value,  // 🆕 NEW
                clientAgeGroup: document.getElementById('client-age-group').value,  // 🆕 NEW
                constitutionalSalt: window.currentClientConstitutionalSalt || null,  // 🆕 NEW
                weakPoints: document.getElementById('weak-points-summary').value,
                jsjApplied: document.getElementById('jsj-applied').value,
                geometricCorrections: document.getElementById('geometric-corrections').value,
                radiestheticFindings: document.getElementById('radiesthetic-findings').value,
                customSolutions: document.getElementById('custom-solutions').value,
                clinicalOutcomes: document.getElementById('clinical-outcomes').value,
                followUpDate: document.getElementById('follow-up-date').value,
                selectedPoints: Array.from(selectedPoints),
                sectionPhotos: JSON.parse(JSON.stringify(sectionPhotos)),
                timestamp: new Date().toISOString()
            };
            
            if (!protocol.date || !protocol.weakPoints) {
                alert('Please fill in at least the assessment date and weak points.');
                return;
            }
            
            const savedProtocols = JSON.parse(localStorage.getItem('medicalRadiesthesiaProtocols') || '[]');
            savedProtocols.push(protocol);
            localStorage.setItem('medicalRadiesthesiaProtocols', JSON.stringify(savedProtocols));
            
            alert('✅ Protocol saved successfully!');
            loadSavedProtocols();
            clearDocumentation();
        }

        function printProtocol() {
            window.print();
        }

        function clearDocumentation() {
            document.querySelectorAll('#documentation-tab input, #documentation-tab textarea, #documentation-tab select').forEach(field => {
                if (field.id !== 'assessment-date') {
                    field.value = '';
                }
            });
            
            // Clear constitutional salt display
            const constitutionalSaltDiv = document.getElementById('client-constitutional-salt');
            if (constitutionalSaltDiv) {
                constitutionalSaltDiv.innerHTML = 'Enter client birth date to calculate constitutional salt';
            }
            
            // Clear constitutional salt from window
            window.currentClientConstitutionalSalt = null;
            
            // Clear all photo sections
            Object.keys(sectionPhotos).forEach(section => {
                document.getElementById(`${section}-photo-preview`).innerHTML = '';
                sectionPhotos[section] = [];
            });
        }

        function loadSavedProtocols() {
            const savedProtocols = JSON.parse(localStorage.getItem('medicalRadiesthesiaProtocols') || '[]');
            const container = document.getElementById('saved-protocols-container');
            
            if (savedProtocols.length === 0) {
                container.innerHTML = '<div class="alert alert-info">No saved protocols yet. Complete an assessment to get started!</div>';
                return;
            }
            
            let html = '';
            savedProtocols.reverse().forEach(protocol => {
                html += `
                    <div class="protocol-item">
                        <div class="protocol-meta">
                            <div>
                                <span class="protocol-date">${protocol.date}</span>
                                ${protocol.clientInitials ? ` - ${protocol.clientInitials}` : ''}
                            </div>
                            <div class="protocol-actions">
                                <button class="btn btn-primary btn-sm" onclick="viewProtocol(${protocol.id})">View</button>
                                <button class="btn btn-secondary btn-sm" onclick="deleteProtocol(${protocol.id})">Delete</button>
                            </div>
                        </div>
                        <div><strong>Weak Points:</strong> ${protocol.weakPoints}</div>
                        ${protocol.customSolutions ? `<div><strong>Solutions:</strong> ${protocol.customSolutions.substring(0, 100)}...</div>` : ''}
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        function viewProtocol(id) {
            const savedProtocols = JSON.parse(localStorage.getItem('medicalRadiesthesiaProtocols') || '[]');
            const protocol = savedProtocols.find(p => p.id === id);
            
            if (!protocol) return;
            
            // Populate form with protocol data
            document.getElementById('assessment-date').value = protocol.date;
            document.getElementById('client-full-name').value = protocol.clientFullName || '';  // 🆕 NEW
            document.getElementById('client-initials').value = protocol.clientInitials || '';
            document.getElementById('client-birth-date').value = protocol.clientBirthDate || '';  // 🆕 NEW
            document.getElementById('client-gender').value = protocol.clientGender || '';  // 🆕 NEW
            document.getElementById('client-age-group').value = protocol.clientAgeGroup || '';  // 🆕 NEW
            document.getElementById('weak-points-summary').value = protocol.weakPoints;
            document.getElementById('jsj-applied').value = protocol.jsjApplied || '';
            document.getElementById('geometric-corrections').value = protocol.geometricCorrections || '';
            document.getElementById('radiesthetic-findings').value = protocol.radiestheticFindings || '';
            document.getElementById('custom-solutions').value = protocol.customSolutions || '';
            document.getElementById('cell-salt-applied').value = protocol.cellSaltApplied || '';  // 🆕 ADD THIS
            document.getElementById('clinical-outcomes').value = protocol.clinicalOutcomes || '';
            document.getElementById('follow-up-date').value = protocol.followUpDate || '';
            
            // Restore constitutional salt if available
            if (protocol.constitutionalSalt) {
                window.currentClientConstitutionalSalt = protocol.constitutionalSalt;
                document.getElementById('client-constitutional-salt').innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 10px;">
                        <div style="color: #28a745; font-size: 18px; font-weight: bold;">
                            📅 ${protocol.constitutionalSalt.name}
                        </div>
                        <div style="background: #28a745; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px;">
                            ${protocol.constitutionalSalt.zodiac}
                        </div>
                    </div>
                    <div style="font-size: 14px; color: #495057; line-height: 1.5;">
                        <div style="margin-bottom: 8px;"><strong>Birth Period:</strong> ${protocol.constitutionalSalt.dates}</div>
                        <div style="margin-bottom: 8px;"><strong>Function:</strong> ${protocol.constitutionalSalt.function}</div>
                        <div style="margin-bottom: 8px;"><strong>Dosage:</strong> ${protocol.constitutionalSalt.dosage}</div>
                        <div style="margin-bottom: 8px;"><strong>Timing:</strong> ${protocol.constitutionalSalt.timing}</div>
                        <div style="background: #fff3cd; padding: 8px; border-radius: 6px; border-left: 3px solid #ffc107;">
                            <strong>Clinical Note:</strong> This constitutional salt should be taken continuously as foundational support, in addition to any organ-specific salts indicated by weak QRA points.
                        </div>
                    </div>
                `;
            }
            
            // Restore section photos
            Object.keys(sectionPhotos).forEach(section => {
                const preview = document.getElementById(`${section}-photo-preview`);
                preview.innerHTML = '';
                sectionPhotos[section] = [];
                
                if (protocol.sectionPhotos && protocol.sectionPhotos[section]) {
                    protocol.sectionPhotos[section].forEach(photo => {
                        const photoItem = document.createElement('div');
                        photoItem.className = 'photo-item';
                        photoItem.innerHTML = `
                            <img src="${photo.src}" alt="${photo.filename}">
                            <button class="photo-remove" onclick="removeSectionPhoto(this, '${section}')">×</button>
                        `;
                        preview.appendChild(photoItem);
                        sectionPhotos[section].push(photo);
                    });
                }
            });
            
            // Restore selected points
            clearAllPoints();
            if (protocol.selectedPoints) {
                protocol.selectedPoints.forEach(pointValue => {
                    const checkbox = document.querySelector(`input[value="${pointValue}"]`);
                    if (checkbox) {
                        checkbox.checked = true;
                        checkbox.dispatchEvent(new Event('change', { bubbles: true }));
                    }
                });
            }
            
            showTab('documentation');
        }

        function deleteProtocol(id) {
            if (confirm('Are you sure you want to delete this protocol?')) {
                const savedProtocols = JSON.parse(localStorage.getItem('medicalRadiesthesiaProtocols') || '[]');
                const filteredProtocols = savedProtocols.filter(p => p.id !== id);
                localStorage.setItem('medicalRadiesthesiaProtocols', JSON.stringify(filteredProtocols));
                loadSavedProtocols();
            }
        }

        function exportAllData() {
            const savedProtocols = JSON.parse(localStorage.getItem('medicalRadiesthesiaProtocols') || '[]');
            const dataStr = JSON.stringify(savedProtocols, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `medical-radiesthesia-protocols-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
        }

        function importData() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const importedData = JSON.parse(e.target.result);
                            const existingData = JSON.parse(localStorage.getItem('medicalRadiesthesiaProtocols') || '[]');
                            const mergedData = [...existingData, ...importedData];
                            localStorage.setItem('medicalRadiesthesiaProtocols', JSON.stringify(mergedData));
                            loadSavedProtocols();
                            alert('✅ Data imported successfully!');
                        } catch (error) {
                            alert('❌ Error importing data. Please check the file format.');
                        }
                    };
                    reader.readAsText(file);
                }
            };
            input.click();
        }
    </script>
</body>
</html>